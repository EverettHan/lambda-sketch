//===================================================================
// COPYRIGHT Dassault Systemes 2019/05/09
//===================================================================
// PLMExchangeLibraryAttributeGroupWS.cpp
// Header definition of class PLMExchangeLibraryAttributeGroupWS
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2019/05/09 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef PLMExchangeLibraryAttributeGroupWS_H
#define PLMExchangeLibraryAttributeGroupWS_H

#include "PLMExchangeWebServices.h"
#include "CATBoolean.h"
#include "CATUnicodeString.h"
#include "CATListOfCATUnicodeString.h"

//-----------------------------------------------------------------------

class ExportedByPLMExchangeWebServices PLMExchangeLibraryAttributeGroupWS
{
public:
	// Standard constructors and destructors
	// -------------------------------------
	PLMExchangeLibraryAttributeGroupWS();
	virtual ~PLMExchangeLibraryAttributeGroupWS();

	enum WebServiceContext
	{
		WebServiceContextUnknown = 0,
		WebServiceContextImport,
		WebServiceContextExport
	};	

	HRESULT InitializeQuery(const WebServiceContext & iContextOperation);

private:
	// Copy constructor and equal operator
	// -----------------------------------
	PLMExchangeLibraryAttributeGroupWS(PLMExchangeLibraryAttributeGroupWS &);
	PLMExchangeLibraryAttributeGroupWS& operator=(PLMExchangeLibraryAttributeGroupWS&);

public: 
	/**
	* Method to get if current provider is real server (PLMxT and TST Provider doesn't have URLs)
	* @param CATBoolean oIsValid
	* the boolean value specifiying validity of the server
	* @return
	* <dl>
	* <dt><code>S_OK</code> if everything ran ok, otherwise...
	* <dt><code>E_FAIL</code> <dd>
	* </dl>
	*/
	static HRESULT IsValidServer(CATBoolean & oIsValid);


	/**
	* Method to get Attribute Groups associated to Classification IDs 
	* This web service will be called at export
	* The result of the Web service call is a JSON file that will be stored inside the Briefcase
	* @return
	* <dl>
	* <dt><code>S_OK</code> if everything ran ok, otherwise...
	* <dt><code>E_FAIL</code> <dd>
	* </dl>
	*/
	HRESULT ExportAttributeGroupsWebService(const CATListOfCATUnicodeString & ListOfClassificationsPhysicalID,
		const WebServiceContext & iContextOperation,
		CATUnicodeString & oResponseMessage);
	
	/**
	* Method to create/update Attribute Groups and their associations with Classification IDs
	* This web service will be called at import havingas input the JSON file stored inside the 3DXML
	* The result of the Web service call is to kow if metadata is updated and server logs in case of issue
	* @return
	* <dl>
	* <dt><code>S_OK</code> if everything ran ok, otherwise...
	* <dt><code>E_FAIL</code> <dd>
	* </dl>
	*/
	HRESULT ImportAttributeGroupsWebService(const CATUnicodeString & iRequestMessage,
		CATBoolean & oIsMetadataUpdated);

private:

	CATUnicodeString         _JSONGetAttributeResponseFilePath;
	CATUnicodeString         _ServerURL;
	CATUnicodeString         _FullWebServicePath;
	CATUnicodeString         _SecurityRole;
};

//-----------------------------------------------------------------------

#endif
