//===================================================================
// COPYRIGHT DASSAULT SYSTEMES 2010/10/25
//===================================================================
// CATIPLMCompassTimeMachine.cpp
// Header definition of class CATIPLMCompassTimeMachine
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2010/10/25 Creation: Code generated by the 3DS wizard
//===================================================================
#ifndef CATIPLMCompassTimeMachine_H
#define CATIPLMCompassTimeMachine_H

#include "CATAfrItf.h"
#include "CATBaseUnknown.h"
#include "CATUnicodeString.h"





extern ExportedByCATAfrItf  IID IID_CATIPLMCompassTimeMachine ;

class CATListOfCATBaseUnknown;
class CATListOfCATUnicodeString;
class CATListOfInt;
class CATListOfFloat;

class ExportedByCATAfrItf CATIPLMCompassTimeMachine: public CATBaseUnknown
{
  CATDeclareInterface;

public:

  /**
  * The user has moved the slider.
  * iPosition is the new position.
  * GetPosition will be called by the compass to get the modified position
  * => implementation can constraint the position this way.
  * Only some postion are valid depending  on liste of date
  * given by GetTMListOfDatesForSlider.
  **/
  virtual void OnSlider( float iPosition ) = 0;

  /**
  * Method called by the compass to get current slider position
  * Only some postion are valid depending  on liste of date
  * given by GetTMListOfDatesForSlider.
  **/
  virtual float GetPosition(void) = 0;

  /**
  * The user has moved the reference cursor of the slider.
  * It is the slider over the PLM Time Machine slider.
  * iPosition is the new position.
  * GetReferencePosition will be called by the compass to get the modified position
  * Implementation can constraint the position this way.
  * Only some postion are valid depending on liste of date
  * given by GetTMListOfDatesForSlider.
  **/
  virtual void OnReferenceSlider( float iPosition ) = 0;

  /**
  * Method called by the compass to get current reference slider position
  * Only some postion are valid depending on liste of date
  * given by GetTMListOfDatesForSlider.
  **/
  virtual float GetReferencePosition(void) = 0;

  /*
  * The user has clicked +/- button to extend/shrink Timeline view
  * Input values ranges from -1 or + 1.
  *  1: + has been pushed. 
  * -1: - has been pushed. 
  **/
  virtual void OnChangeTMScale (int iMultiplyLength)= 0;

  /**
  * The user has clicked on a thumbnail to display an archive
  * It is not possible to hide an archive.
  **/
  virtual void OnDisplayArchive(int iIndexPosition)= 0; 

  /**
  * The user has changed the opacity of the archive
  *	Input values ranges from 1 to 100.
  * 1: Opacity minimum  
  * 100: Opacity maximum  
  **/
  virtual void OnChangeOpacity(int iOpacity) = 0;

  /**
  * Indicates the values to refresh for PLMTimeMachine, when comparison archive has changed.
  * @param oListOfArchives [ out ] archives are ordered that way : T-2, T-1, T+1, T+2
  * @param oListOfDates [ out ] index of dates are ordered the same way that archives. It is the index of the list of GetTMListOfDatesForSlider ().
  * @return
  *   An HRESULT value. 
  *   <br><b>Legal values</b>:
  *   <dl>
  *     <dt>S_OK</dt>
  *     <dd>Results are correct.</dd>
  *     <dt>E_FAIL </dt>
  *     <dd>Results are not correct.</dd>
  *   </dl>
  */
  virtual HRESULT GetTMValuesOnArchiveChange(
    CATListOfCATBaseUnknown &oListOfArchives,
    CATListOfInt &oListOfDates) = 0;


  /**
  * Indicates the TimeMachine’s scale change.
  * @param oBeginDate [ out ]
  * @param oEndDate [ out ]
  * @return
  *   An HRESULT value. 
  *   <br><b>Legal values</b>:
  *   <dl>
  *     <dt>S_OK</dt>
  *     <dd>Results are correct.</dd>
  *     <dt>E_FAIL </dt>
  *     <dd>Results are not correct.</dd>
  *   </dl>
  */
  virtual HRESULT GetTMValuesOnScaleChange(
    CATUnicodeString & oBeginDate,
    CATUnicodeString & oEndDate) = 0;

  /**
  * Indicates the values of the date to show as vertical line in slider.
  * @param oListOfStringDates [ out] Dates ordered from the newest to the oldest.
  * There is a maximum of 100 dates
  * @param oListOfDates [ out ] ordered from the oldest to to newest.
  * Use the float to compute the interval displayed between to date.
  * @return
  *   An HRESULT value. 
  *   <br><b>Legal values</b>:
  *   <dl>
  *     <dt>S_OK</dt>
  *     <dd>Results are correct.</dd>
  *     <dt>E_FAIL </dt>
  *     <dd>Results are not correct.</dd>
  *   </dl>
  */
  virtual HRESULT GetTMListOfDatesForSlider( 
    CATListOfCATUnicodeString &oListOfStringDates,
    CATListOfFloat &oListOfDates) = 0;



};

//-----------------------------------------------------------------------
CATDeclareHandler( CATIPLMCompassTimeMachine, CATBaseUnknown );

#endif
