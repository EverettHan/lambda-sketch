#ifndef CATIPGMAutoFilletBiW_h_
#define CATIPGMAutoFilletBiW_h_

// COPYRIGHT DASSAULT SYSTEMES 2017

#include "CATGMOperatorsInterfaces.h"
#include "CATIPGMTopOperator.h"
#include "CATAutoFilletBiW_Defines.h"

class CATIPGMAutoFilletBiW;
class CATAutoFilletBiWImpl;
class CATSoftwareConfiguration;
class CATUnicodeString;
class CATLISTP(CATAutoFilletBiWDiagnosis);
class CATLISTP(CATEdge);
class CATLISTP(CATAutoFilletBiWFeature);

extern ExportedByCATGMOperatorsInterfaces IID IID_CATIPGMAutoFilletBiW;

class ExportedByCATGMOperatorsInterfaces CATIPGMAutoFilletBiW: public CATIPGMTopOperator
{
public:
  /**
   * Constructor
   */
  CATIPGMAutoFilletBiW();

  /** 
	* Add a new specification to this operator.
	* @param iEdges
  * The specification applies to iEdges.
	* @param iLocation
  * 3D location of the specification.
	* @param iRadius
	* Specified fillet radius. 
	* @param iSpecType
	* Type of the specification. 
	* @param iConvexityIfNotMeasurable
	* Assign convexity in case of it is not measurable (may be UnknownConvexity if convexity is measurable). 
	* @param iIndexForOrdering
	* Order to be respected among same type. 
	* @param iName
	* Specification user name. 
  * <br>returns S_OK if the specification has been succeessfully assigned to this.
  */
  virtual HRESULT AddSpec(
    const CATLISTP(CATEdge) &iEdges,
    const CATMathPoint &iLocation,
    const double iRadius,
    const CATAutoFilletBiW_SpecType iSpecType,
    const CATLONG32 iIndexForOrdering,
    const CATUnicodeString &iName) = 0;

  /** 
	* Analyze all specifications.
	* @param oDiagnosis
  * Diagnosis generated by the analysis. The diagnosis remain owned by this.
  * <br>returns S_OK if the analysis is successful so that creation of fillets may be launched.
  */
  virtual HRESULT GetDiagnosis(CATLISTP(CATAutoFilletBiWDiagnosis) &oDiagnosis) const = 0;

  /** 
	* Get list of features.
	* @param oFeatures
  * List of Fillet Features to be created. The list items will be deleted when this operator is deleted.
  * <br>returns S_OK if fillet features has to be created.
  */
  virtual HRESULT GetFeatures(CATLISTP(CATAutoFilletBiWFeature) &oFeatures) const = 0;

protected:
  /**
   * Destructor
   */
  virtual ~CATIPGMAutoFilletBiW(); // -> delete can't be called
};

//----------------------------------------------------------------------------
// Public section
//----------------------------------------------------------------------------
/** 
	* Creates a CATIPGMAutoFilletBiW operator.
	* @param iFactory
  * Factory in which objects may be created.
	* @param iTopData
  * CATTopData to manage upward compatibility of changes in the implementation.
	* @param iBody
	* Input Body to be filleted. 
	* @param iConvexFirst
  * Convex Fillets will be ceated before concave ones.
  */
ExportedByCATGMOperatorsInterfaces CATIPGMAutoFilletBiW *CATPGMCreateAutoFilletBiW(
  CATGeoFactory &iFactory,
  CATTopData &iTopData,
  CATBody &iBody,
  const CATBoolean iConvexFirst);

#endif /* CATIPGMAutoFilletBiW_h_ */
