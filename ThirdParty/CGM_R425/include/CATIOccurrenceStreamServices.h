#ifndef CATIOccurrenceStreamServices_H
#define CATIOccurrenceStreamServices_H

#include "CATPLMModelerOccInterfaces.h"
#include "CATBinary.h"
#include "CATBaseUnknown.h"
#include "CATOmxSR.h"

struct CATIOccurrenceStreamServices
{
  static ExportedByCATPLMModelerOccInterfaces CATIOccurrenceStreamServices& Get();

  /**
   * generate a BLOB containg occurrence tree, this BLOB can be used in RestoreOccurrenceTree
   * @param iRootOccurrence
   *  input root occurrence
   * @return
   *  a BLOB that can be passed to RestoreOccurrenceTree
   *  empty in case of failure
   */
  virtual CATBinary StreamOccurrenceTree(const CATBaseUnknown* iRootOccurrence) const = 0;

  /**
   * restore an occurrence tree
   * @param iBLOB
   *  BLOB generated by StreamOccurrenceTree
   * @return
   *  a new root occurrence
   */
  virtual CATOmxSR<CATBaseUnknown> RestoreOccurrenceTree(const CATBinary& iBLOB) const = 0;
};


#endif
