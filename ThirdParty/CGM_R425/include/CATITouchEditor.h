//===================================================================
// COPYRIGHT Dassault Systemes 2018/05/14
//===================================================================
// CATITouchEditor.cpp
// Header definition of class CATITouchEditor
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2018/05/14 Creation: Code generated by the 3DS wizard
//===================================================================
#ifndef CATITouchEditor_H
#define CATITouchEditor_H

#include "CATVisItf.h"
#include "CATBaseUnknown.h"
#include "CATEventSubscriberTypedefs.h"
#include "CATListOfInt.h"
class CATNotification;
//class CATSubscriberData;
class CATManipulator;

extern ExportedByCATVisItf  IID IID_CATITouchEditor ;

typedef int (CATBaseUnknown::*CATTouchDeviceAction)(CATNotification *event, CATSubscriberData data,  CATManipulator * iPointed,  CATManipulator * iPluged);




/*enum CATTouchInteraction_Id {

   CATTouchInteraction_None,
   CATTouchInteraction_Down, 
   CATTouchInteraction_Move,	
   CATTouchInteraction_Up, 
   CATTouchInteraction_Tap, 
   CATTouchInteraction_DownHold,
   CATTouchInteraction_Flick,
   CATTouchInteraction_DoubleTap, 	
   CATTouchInteraction_DoubleTap_Up,	
   CATTouchInteraction_Pan, 
   CATTouchInteraction_Pinch, 
   CATTouchInteraction_Rotate,
   CATTouchInteraction_NewDown,
   CATTouchInteraction_NewUp, 			
   CATTouchInteraction_Navigation, 
   CATTouchInteraction_TwoFingersHold,
   CATTouchInteraction_TwoFingersMove,
   CATTouchInteraction_ThreeFingersHold,
   CATTouchInteraction_ThreeFingersMove

};

*/

class ExportedByCATVisItf CATITouchEditor: public CATBaseUnknown
{
CATDeclareInterface;

public:


    enum PriorityType {Undefined = 0, Background=1, Intermediate=2, Foreground=3};

    // _intermediateValue priority if from 0 (lower priority) to higher values (maximum priority)
    // WARNING: -1 is for internal usage only
    struct InteractorPriority{
        PriorityType _prioType;
        unsigned short _intermediateValue;
    };
    /* 
    * GetActionForInteraction returns a function called action" that will be executed 
    *  when a given interaction is detected
    */
    virtual CATTouchDeviceAction GetActionForInteraction (CATNotification *ievent, CATSubscriberData data, CATManipulator * iPointed,  CATManipulator * iPluged) = 0;
    virtual CATITouchEditor::InteractorPriority& GetPriority () = 0;
    /*
    * IsNeeded determins if the condition to activate this editor is true.
    * for exemple if this editor is to be be activated with a particular key pressed,
    * then IsNeeded will test the key status . If IsNeeded returns TRUE then this editor
    * will be called to give an ActionForInteraction (GetActionForInteraction)
    */
    virtual CATBoolean IsNeeded (int iGeneralModifiers) = 0;
    /*
    * IsInTransaction is called after an Action given by this editor is performed.
    * IsInTransaction should answer FALSE every time the editor finished completely 
    * with the given interaction.
    * Please be aware that if IsInTransaction answers TRUE, then this editor becomes 
    * priotary to other editors and no other condition is tested on this. 
    * IsInTransaction is meant for complex editors that need to be activated even 
    * if the activating condition is no more true. Please cf CATMouseEditorForDrill
    */
    virtual CATBoolean IsInTransaction () = 0;
    /*
    * GetKeyState returns a status for a keyboard key : 1 = pressed, 0 = released
    * iCATKeyCode is a key CAT identifier. 
    */
    virtual int GetKeyState (int iCATKeyCode) = 0;
    /*
    * AddModifier adds keys to be tested in IsNeeded method. These keys can be all 
    * CATKeycode that are listed in CATKeybdEventType
    * the default implementation of IsNeeded tests for a particular modifier 
    * However one can rewrite IsNeeded and change the condition of activation.
    */
    virtual void AddModifier (int iModifier) = 0;
    /*RemoveModifier : removes the value from the list */
    virtual void RemoveModifier (int iModifier)=0;
    /*
    * GetListOfModifier gives a list of modifiers that are tested in IsNeeded
    */
    virtual CATListOfInt& GetListOfModifier () = 0;


};

//-----------------------------------------------------------------------
CATDeclareHandler( CATITouchEditor, CATBaseUnknown );

#endif
