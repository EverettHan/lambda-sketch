// COPYRIGHT Dassault Systemes 2003
//===================================================================
//
// CATVizExtendedPrimitiveSet.h
// Header definition of CATVizExtendedPrimitiveSet
//
//===================================================================
//
// Usage notes:
//
//===================================================================
//
//  Nov 2003  Creation: Code generated by the CAA wizard  svq
//===================================================================
#ifndef CATVizExtendedPrimitiveSet_H
#define CATVizExtendedPrimitiveSet_H

#include "SGInfra.h"
#include "CATVizPrimitiveSet.h"

#include "CATVizPrimitive.h"
#include "CATBoolean.h"
class CATGraphicAttributeSet;

//-----------------------------------------------------------------------

/**
* Describe your class here.
* <p>
* Using this prefered syntax will enable mkdoc to document your class.
*/
class ExportedBySGInfra CATVizExtendedPrimitiveSet: public CATVizPrimitiveSet
{
	friend class SGCGRNodesFactoryA;
	friend class SGCGRStreamerForVizPrimitiveSet;
public:
   
   // Standard constructors and destructors
   // -------------------------------------
   CATVizExtendedPrimitiveSet();
   CATVizExtendedPrimitiveSet(unsigned int nbPrimitives, CATVizPrimitive **primitives, CATGraphicAttributeSet *attributes, CATVizGeomType type, CATBoolean poolAllocated = FALSE);

protected:
  
  virtual ~CATVizExtendedPrimitiveSet();
   
public:

   virtual const CATGraphicAttributeSet *GetGraphicAttributeSet(unsigned int i);
   
   virtual void Stream(CATStreamer &oStr, int savetype = 0);
   virtual void UnStream(CATStreamer &iStr);

   virtual CATBoolean WithGAS();

   virtual void AllocateVBOPrimitives(unsigned int nbPrimitives);
   virtual const CATGraphicAttributeSet *GetVBOGraphicAttributeSet(unsigned int i);
   virtual void SetVBOPrimitive(unsigned int i, CATVizPrimitive * iFace, CATGraphicAttributeSet * iGAS=NULL, CATGraphicMaterial * iMat=NULL);

   void OptimizeAttributesArray();
  	virtual unsigned int GetSizeInBytes(int iIncludeStructuralSize = 1);

private:
   
   CATGraphicAttributeSet *_attributes;
};

//-----------------------------------------------------------------------

#endif
