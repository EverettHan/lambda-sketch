//============================================================================
// COPYRIGHT Dassault Systemes 2001
//============================================================================
//
// CATCGMExtGeoFactoryImpl.h
// Header definition of CATCGMExtGeoFactoryImpl
//
//============================================================================
//
// Default extension for CATGeoFactory and the CATICGMContainer interface.
// Methods are not implemented.
// CATGeoFactoryV4 inherits from this class
//
//============================================================================
// Mar 2001  Creation: Code generated by the CAA wizard  HCN
// Dec. 03 Suppression CATIAV5R11, CATIAV5R12                             HCN
// July 04 Ajout CreateSubdivMeshBasic                                    RAQ
// Jan. 05 Suppression CATIAV5R13 et CATIAV5R14                           HCN
// Jul. 05 Renommage de CATGeoFactoryImpl en CATGeoFactoryProtected       HCN
// May. 06 Ajout de GetOldestElementBasic(...)                            FDN
// Mar  07 For chordal fillet surface                                     SOU 
// Janu 08 Ajout CreateSubdivCellSurfaceBasic                             RNO
// 31/01/08 NLD SetScaleOptionBasic() GetScaleOptionBasic()    
// Nov. 14 (no) Default implementation of GetGeoPolyFactory               DPS
// Dec  19 Added Deformation flags for Create(Generic)Fillet              SMT1
//============================================================================
#ifndef CATCGMExtGeoFactoryImpl_H
#define CATCGMExtGeoFactoryImpl_H

#include "CATIACGMLevel.h"
#include "YP00IMPL.h"
#include "CATCGMScaleCategoryDef.h"
#include "CATGeoFactoryProtected.h"
#include "CATGeoFactory.h"

#include "CATIAV5Level.h"

class CATSubdivMeshGeo;

//-----------------------------------------------------------------------

/**
 * Describe your class here.
 * <p>
 * Using this prefered syntax will enable mkdoc to document your class.
 */

/*

  La classe CATGeoFactoryProtected implemente toutes les methodes des interfaces suivantes :

					CATGeoFactory
					CATICGMContainer
*/

class ExportedByYP00IMPL CATCGMExtGeoFactoryImpl: public CATGeoFactoryProtected
{
  CATDeclareClass;

  public:
  // Standard constructors and destructors
  // -------------------------------------
     CATCGMExtGeoFactoryImpl ();
	virtual ~CATCGMExtGeoFactoryImpl ();

  //---------------------------------------------------------------------------
  // GetGeoMeshFactory
  //---------------------------------------------------------------------------
  virtual CATGeoMeshFactory* GetGeoMeshFactory();

  //---------------------------------------------------------------------------
  // GetGeoPolyFactory
  //---------------------------------------------------------------------------
  virtual CATGeoPolyFactory* GetGeoPolyFactory(CATBoolean iCreationMode=FALSE);

  //---------------------------------------------------------------------------
  // GetGeoImplicitFactory
  //---------------------------------------------------------------------------
	virtual CATGeoImplicitFactory* GetGeoImplicitFactory(CATBoolean iCreationMode=FALSE);

	// -- adhesion a CATGeoFactory --------------------------------------------
	// -- on implemente les methodes abstraites de CATGeoFactoryProtected

  virtual int GetOldestElemBasic(CATGeometry * iGeo1, CATGeometry * iGeo2);

  //---------------------------------------------------------------------------
  // Body creation
  //---------------------------------------------------------------------------
	virtual CATBody * CreateBody(CATBodyMode  iMode        = CatBodyMode_Working ,
                                const char  iRole[]      = "Unknown",
                                const char *iTracability = __FILE__ ,
                                const int   iLine        = __LINE__ ) ; 


	virtual CATCartesianPoint * CreateCartesianPointBasic(	const CATLength x,
															const CATLength y,
															const CATLength z);

	virtual CATPointOnCurve * CreatePointOnCurveBasic (	const CATCrvParam &parameter,
														CATCurve *curve);

	virtual CATPointOnEdgeCurve* CreatePointOnEdgeCurveBasic(	const CATLONG32 iSpecCount, 
																const CATCurve* iSpecCurves[],
																const CATCrvParam iSpecParams[],
																const CATEdgeCurve* iSupport);
  
	virtual CATPointOnSurface * CreatePointOnSurfaceBasic(	const CATSurParam &parameter,
															CATSurface *surface);

	virtual CATMacroPoint * CreateMacroPointBasic();

	virtual CATLine * CreateLineBasic(	const CATMathPoint &pointm,
										const CATMathDirection &directionm);
  
	virtual CATLine * CreateLineBasic(	const CATMathPoint &point1,
										const CATMathPoint &point2);

	virtual CATCircle * CreateCircleBasic(	const CATPositiveLength  iRadius,
											const CATMathPlane      &iAxis2m,
											const CATAngle           iFrom, 
											const CATAngle           iTo     );

	virtual CATEllipse * CreateEllipseBasic(const CATPositiveLength  iMajorAxis,
											const CATPositiveLength  iMinorAxis,
											const CATMathPlane      &iAxis2m, 
											const CATAngle           iFrom,
											const CATAngle           iTo  );

	virtual CATParabola * CreateParabolaBasic(	const CATLength &iFocalDistance,
												const CATMathPlane &iBackgroundPlane);

	virtual CATHyperbola * CreateHyperbolaBasic(const CATPositiveLength &majaxis,
												const CATPositiveLength &minaxis,
												const CATMathPlane &axis2m);

	virtual CATBezierCurve* CreateBezierCurveBasic(	const int &iNbrCtrlPts,
													const int &iNbrOfArc,
													const int *iDegrees,
													const CATMathPoint *MathCtrlPts);

	virtual CATNurbsCurve * CreateNurbsCurveBasic(	const CATKnotVector &iKnotVector, 
													const CATLONG32 &iIsRational, 
													const CATMathSetOfPoints &iVertices,
													const double * iWeights,
													const CATParameterizationOption iParameterizationOption,
                                                                                                        int iCheckLevel=0);

	virtual CATSplineCurve * CreateSplineCurveBasic(const CATMathSetOfPointsNDWithVectors * iPoints,
													const double * iParameters);
  
	virtual CATSplineCurve * CreateSplineCurveBasic(const CATMathSetOfPointsND * iParams,
													const CATMathSetOfPointsND * iPoints,
													const CATMathSetOfPointsND * iTangents,
													const CATMathSetOfPointsND * iSecondDerivatives,
													const CATLONG32 iFirstCoordIndex,
													const CATLONG32 iSecondCoordIndex,
													const CATLONG32 iThirdCoordIndex);
  
	virtual CATIForeignCurve * CreateForeignCurveBasic(CATForeignCurveData* iForeignCurveData);

	virtual CATIntCurve * CreateIntCurveBasic(CATPCurve* iC1, CATPCurve* iC2);
	virtual CATIntCurve * CreateIntCurveBasic(	const CATLONG32               iNbMapX,
												const CATMapX**          iMapX,
												const CATPositiveLength  iMaxGap);

	virtual CATSimCurve * CreateSimCurveBasic(  CATLISTP(CATCurve)     & iNewCurves,
												CATLISTP(CATCrvLimits) & iLimits,
												CATListOfInt           & iOrns,
												const CATPositiveLength  iGap ); 
	
	virtual CATSimCurve * CreateSimCurveBasic(	const CATLONG32               iNbMapX,
												const CATMapX**          iMapX,
												const CATPositiveLength  iMaxGap);

	virtual CATMergedCurve * CreateMergedCurveBasic(const CATCurve* iC1,
													const CATCrvLimits & iLim1, 
													const CATCurve* iC2,
													const CATCrvLimits & iLim2, 
													const CATMathSetOfPointsND & iParamMapping,
													const CATPositiveLength      iMaxGap); 
  
	virtual CATMergedCurve * CreateMergedCurveBasic(const CATCurve* iC1,
													const CATCrvLimits & iLim1, 
													const CATCurve* iC2,
													const CATCrvLimits & iLim2); 
  
	virtual CATMergedCurve * CreateMergedCurveBasic(const CATLONG32               iNbMapX,
													const CATMapX**          iMapX,
													const CATPositiveLength  iMaxGap);

	virtual CATContactCurve * CreateContactCurveBasic(	CATEdgeCurve* iEdgeCurve,
														CATSurface*   iSurface  );

	virtual CATProcCurve * CreateProcCurveBasic(CATProcCurveDef* iProcCurveDef);

	virtual CATPlane * CreatePlaneBasic(const CATMathPlane &Axis2M);

	virtual CATPLine* CreatePLineBasic(	CATSurface* iSupport, 
										const CATSurParam &iStart, 
										const CATSurParam &iEnd );
	virtual CATTrimmedPCurve* CreateTrimmedPCurveBasic(CATSurface * iSupport, CATPCurve * iReference, const CATCrvLimits & iLimits);



	// La valeur par defaut du dernier parametre est laissee
	// car GeometricObjectsCATIA\YP00TEST\src\coverage.cpp y fait appel...
	virtual CATNurbsSurface* CreateNurbsSurfaceBasic(	const CATKnotVector &iKnotVectorU, 
														const CATKnotVector &iKnotVectorV,
														const CATLONG32 &iIsRational, 
														const CATMathGridOfPoints &iVertices,
														const double * iWeights,
														const CATParameterizationOption iParameterizationOption = CatAutomaticParameterization,
                                                                                                                int iCheckLevel=0);

	virtual CATRuledSurface * CreateRuledSurfaceBasic(	const CATCurve * profile,
														const CATMathDirection & direction,
														const CATAngle & angle,
														const double & length1,
														const double & length2,
														const CATCrvLimits * limits,
														const CATLISTP(CATCrvParam) * params);

	virtual CATRuledSurface * CreateRuledSurfaceBasic(	const CATCurve * profile1,
														const double & length1,
														const double & limit1,
														const CATCurve * profile2,
														const double & length2,
														const double & limit2);

	virtual CATGenericRuledSurface * CreateGenericRuledSurfaceBasic(const CATMathSetOfPointsND * iParams,
																	const CATMathSetOfPointsND * iPoints,
																	const CATMathSetOfPointsND * iTangents,
																	const CATMathSetOfPointsND * iSecondDerivatives,
																	const CATLONG32 iFirstTraceIndex,
																	const CATLONG32 iSecondTraceIndex);

	virtual CATSphere * CreateSphereBasic(	const CATMathAxis       &iAxis, 
											const CATPositiveLength  iRadius,
											const CATAngle           iMeridianStart,
											const CATAngle           iMeridianEnd,
											const CATAngle           iParallelStart,
											const CATAngle           iParallelEnd);

	virtual CATCylinder * CreateCylinderBasic(	const CATMathAxis &iAxis,
												const CATLength   &iRadius,
												const CATLength   &iAxisStart,
												const CATLength   &iAxisEnd,
												const CATAngle    &iAngleStart,
												const CATAngle    &iAngleEnd);

	virtual CATCone * CreateConeBasic(	const CATMathAxis &iConeAxis,
										const CATLength   iStartRadius,
										const CATAngle    iConeAngle,
										const CATAngle    iStartAngle,
										const CATAngle    iEndAngle,
										const CATLength   iStartRuleLength,
										const CATLength   iEndRuleLength);

	virtual CATTorus * CreateTorusBasic(const CATMathAxis &iTorusAxis,
										const CATLength   iMajorRadius,
										const CATAngle    iMajorStartAngle,
										const CATAngle    iMajorEndAngle,
										const CATLength   iMinorRadius,
										const CATAngle    iMinorStartAngle,
										const CATAngle    iMinorEndAngle);

	virtual CATTabulatedCylinder * CreateTabulatedCylinderBasic(CATCurve* iProfile,
																const CATCrvLimits & iProfileLimits,
																const CATMathDirection &iDirection,
																const CATLength &iStart,
																const CATLength &iEnd);

	virtual CATRevolutionSurface * CreateRevolutionSurfaceBasic(CATCurve* iProfile,
																const CATCrvLimits & iProfileLimits,
																const CATMathAxis &iDirectionRefAxis,
																const CATAngle &iStart,
																const CATAngle &iEnd);
  
	virtual CATProcOffsetSurface * CreateProcOffsetSurfaceBasic(const CATLength   iOffset,
																CATSurface *iReference,
																const CATSurLimits & iLimits );
  
	virtual CATOffsetSurface * CreateOffsetSurfaceBasic(const CATLength   iOffset,
														CATSurface *iReference,
														const CATSurLimits & iLimits  );

  virtual CATOffsetSurface * CreateOffsetSurfaceBasic(const CATLength   iOffset,
														CATSurface *iReference,
														CATSurface *iGeometricRep  );

	virtual CATCircularSweep * CreateCircularSweepBasic(const CATMathSetOfPointsNDWithVectors *iPoints, 
														const double* iParameters);
  
	virtual CATGenericFillet * CreateGenericFilletBasic(const CATMathSetOfPointsND * iParams,
														const CATMathSetOfPointsND * iPoints,
														const CATMathSetOfPointsND * iTangents,
														const CATMathSetOfPointsND * iSecondDerivatives,
														const CATLONG32 iFirstTraceIndex,
														const CATLONG32 iSecondTraceIndex,
														const CATLONG32 iCenterCurveIndex,
														const CATLONG32 iAngleIndex,
														const CATMathBox2D * iBox,
                                                        CATBoolean                  iDeformedStart  = FALSE,
                                                        CATBoolean                  iDeformedEnd    = FALSE);

	virtual CATSweepSurface * CreateSweepSurfaceBasic(CATNurbsSurface* iNurbsSurface );

	virtual CATSweepSegmentSurface * CreateSweepSegmentSurfaceBasic(const CATSweepSegmentSurfaceCreationData* iSweepSegmentSurfaceCreationData );  

	virtual CATFilletSurface * CreateFilletSurfaceBasic(const CATMathSetOfPointsND * iParams,
														const CATMathSetOfPointsND * iPoints,
														const CATMathSetOfPointsND * iTangents,
														const CATMathSetOfPointsND * iSecondDerivatives,
														const CATLONG32                   iFirstTraceIndex,
														const CATLONG32                   iSecondTraceIndex,
														const CATLONG32                   iCenterCurveIndex,
														const CATLONG32                   iAngleIndex,
														const short                  iConfiguration,	    
														double                       iRadius,
														CATGeometry*                 iSupport1,
														CATGeometry*                 iSupport2,
														int                          iOrientation1,
														int                          iOrientation2,
														CATGeometry*                 iContact1,
														CATGeometry*                 iContact2,
														CATLONG32  &                      oCentripetalOrientation,
                                                        CATBoolean                  iDeformedStart  = FALSE,
                                                        CATBoolean                  iDeformedEnd    = FALSE);
  
	virtual CATFilletSurface * CreateFilletSurfaceBasic(const CATMathSetOfPointsND * iParams,
														const CATMathSetOfPointsND * iPoints,	
														const CATMathSetOfPointsND * iTangents,
														const CATMathSetOfPointsND * iSecondDerivatives,
														const CATLONG32                   iFirstTraceIndex,
														const CATLONG32                   iSecondTraceIndex,
														const CATLONG32                   iCenterCurveIndex,
														const CATLONG32                   iAngleIndex,
														const short                  iConfiguration,
														CATCurve *                   iSpine,
														CATLaw   *                   iRadiusLaw,
														CATLaw   *                   iMappingLaw,
														CATGeometry*                 iSupport1,
														CATGeometry*                 iSupport2,
														int                          iOrientation1,
														int                          iOrientation2,
														CATGeometry*                 iContact1,
														CATGeometry*                 iContact2,
														CATLONG32 &                       oCentripetalOrientation,
														const CATLONG32                   iContinuityMode = 0);

	virtual CATFilletSurface * CreateTriTangentFilletSurfaceBasic(	const CATMathSetOfPointsND * iParams,
																	const CATMathSetOfPointsND * iPoints,
																	const CATMathSetOfPointsND * iTangents,
																	const CATMathSetOfPointsND * iSecondDerivatives,
																	const CATLONG32                   iFirstTraceIndex,
																	const CATLONG32                   iSecondTraceIndex,
																	const CATLONG32                   iCenterCurveIndex,
																	const CATLONG32                   iAngleIndex,
																	const short                  iConfiguration,
																	CATGeometry*                 iSupport1,
																	CATGeometry*                 iSupport2,
																	CATGeometry*                  iSurface3,
																	int                          iOrientation1,
																	int                          iOrientation2,
																	int                          iOrientation3,
																	CATGeometry*                 iContact1,
																	CATGeometry*                 iContact2,
																	CATGeometry*                 iContact3,
																	CATLONG32 &                       oCentripetalOrientation);
  
	virtual CATFilletSurface * CreateBiTangentCircleFilletSurfaceBasic(	const CATMathSetOfPointsND * iParams,
																		const CATMathSetOfPointsND * iPoints,
																		const CATMathSetOfPointsND * iTangents,
																		const CATMathSetOfPointsND * iSecondDerivatives,
																		const CATLONG32                   iFirstTraceIndex,
																		const CATLONG32                   iSecondTraceIndex,
																		const CATLONG32                   iCenterCurveIndex,
																		const CATLONG32                   iAngleIndex,
																		const short                  iConfiguration,
																		CATCurve *                   iCircleSpine,
																		CATCurve *                   iRadiusSpine,
																		CATLaw   *                   iRadiusLaw,
																		CATLaw   *                   iMappingLaw,
																		CATGeometry*                 iSupport1,
																		CATGeometry*                 iSupport2,
																		int                          iOrientation1,
																		int                          iOrientation2,
																		CATGeometry*                 iContact1,
																		CATGeometry*                 iContact2,
																		CATLONG32 &                       oCentripetalOrientation); 

    virtual CATFilletSurface* CreateChordalFilletSurfaceBasic( const CATMathSetOfPointsND* iParams,
                                                             const CATMathSetOfPointsND* iPoints,
                                                             const CATMathSetOfPointsND* iTangents,
                                                             const CATMathSetOfPointsND* iSecondDerivatives,
                                                             const CATLONG32             iFirstTraceIndex,
                                                             const CATLONG32             iSecondTraceIndex,
                                                             const CATLONG32             iCenterCurveIndex,
                                                             const CATLONG32             iAngleIndex,
                                                             const short                 iConfiguration,	    
                                                             double                      iChord,
                                                             CATGeometry*                iSupport1,
                                                             CATGeometry*                iSupport2,
                                                             int                         iOrientation1,
                                                             int                         iOrientation2,
                                                             CATGeometry*                iContact1,
                                                             CATGeometry*                iContact2,
                                                             CATLONG32&                  oCentripetalOrientation);
  
  virtual CATFilletSurface* CreateChordalFilletSurfaceBasic( const CATMathSetOfPointsND* iParams,
                                                             const CATMathSetOfPointsND* iPoints,
                                                             const CATMathSetOfPointsND* iTangents,
                                                             const CATMathSetOfPointsND* iSecondDerivatives,
                                                             const CATLONG32             iFirstTraceIndex,
                                                             const CATLONG32             iSecondTraceIndex,
                                                             const CATLONG32             iCenterCurveIndex,
                                                             const CATLONG32             iAngleIndex,
                                                             const short                 iConfiguration,
                                                             CATCurve*                   iSpine,
                                                             CATLaw*                     iChordLaw,
                                                             CATLaw*                     iMappingLaw,
                                                             CATGeometry*                iSupport1,
                                                             CATGeometry*                iSupport2,
                                                             int                         iOrientation1,
                                                             int                         iOrientation2,
                                                             CATGeometry*                iContact1,
                                                             CATGeometry*                iContact2,
                                                             CATLONG32&                  oCentripetalOrientation,
                                                             const CATLONG32             iContinuityMode = 0);

  
	virtual CATFilletSurface * CreateSweepCircleSurfaceBasic(	const CATMathSetOfPointsND * iParams,
																const CATMathSetOfPointsND * iPoints,
																const CATMathSetOfPointsND * iTangents,
																const CATMathSetOfPointsND * iSecondDerivatives,
																const CATLONG32                   iFirstTraceIndex,
																const CATLONG32                   iSecondTraceIndex,
																const CATLONG32                   iCenterCurveIndex,
																const CATLONG32                   iAngleIndex,
																const short                  iConfiguration,
																double                       iRadius,
																CATCurve *                   iCircleSpine,
																CATGeometry*                 iSupport1,
																CATGeometry*                 iSupport2,
																int                          iOrientation1,
																int                          iOrientation2,
																CATGeometry*                 iContact1,
																CATGeometry*                 iContact2,
																CATLONG32 &                       oCentripetalOrientation);

	virtual CATDraftSurface * CreateDraftSurfaceBasic(	const CATCurve * profile,
														const CATMathDirection & direction,
														const CATAngle & angle,
														const double & length1,
														const double & length2,
														CATMathSetOfPointsND & ioMapping,
														const CATCrvLimits * limits,
														const CATLISTP(CATCrvParam) * params);
  
	virtual CATDraftSurface * CreateDraftSurfaceBasic(CATDraftSurfaceCreationData * ioData);
  
	virtual CATDraftSurface * CreateDraftSurfaceBasic(const CATSurface * ToCopy);

	virtual CATChamferSurface * CreateChamferSurfaceBasic(	const CATMathSetOfPointsND * iParams,
															const CATMathSetOfPointsND * iPoints,
															const CATMathSetOfPointsND * iTangents,
															const CATMathSetOfPointsND * iSecondDerivatives,
															const CATLONG32 iFirstTraceIndex,
															const CATLONG32 iSecondTraceIndex,
															const short iConfiguration,
															const CATLONG32 iChamferType,
															const double iFirstValue,
															const double iSecondValue,
															CATSurface* iSurface1,
															CATSurface* iSurface2,
															int iOrientation1,
															int iOrientation2,
															CATGeometry* iContact1,
															CATGeometry* iContact2);

	virtual CATDirectionalSurface* CreateDirectionalSurfaceBasic(	CATPCurve * iGuideCurve,
																	CATCrvLimits * iLimits,
																	CATAngle iAngleWithNormal,
																	CATLength iLengthRuled,
																	CATMathSetOfPointsND &ioMapping);

	virtual CATSpecSurface * CreateSpecSurfaceBasic(CATSpecSurfaceDef* iSpecSurfaceDef);
  
	virtual CATProcSurface * CreateProcSurfaceBasic(CATProcSurfaceDef* iProcSurfaceDef);

	virtual CATLinearTransfoSurface * CreateLinearTransfoSurfaceBasic(	CATMathTransformation & iTransformation,
																		CATSurface            * iReference );

	virtual CATNonLinearTransfoSurface * CreateNonLinearTransfoSurfaceBasic(CATMathNonLinearTransformation & iTransformation,
																			CATSurface                     * iReference );

  virtual CATNonLinearTransfoSurface * CreateNonLinearTransfoSurfaceBasic(CATMathNonLinearTransformation & iTransformation,
																			CATSurface                     * iReference ,
                                                                            CATSurLimits                   & iSurMaxLimits);

	virtual CATNonLinearTransfoPCurve * CreateNonLinearTransfoPCurveBasic(	CATPCurve * iFromPCrv,
																			const double iuShift,
																			const double ivShift,
																			CATMathNonLinearTransformation2D * ioTransfo,
																			CATSurface * iSupport);
  
	virtual CATIForeignSurface * CreateForeignSurfaceBasic(CATForeignSurfaceData* iForeignSurfaceData);

	virtual CATPCircle * CreatePCircleBasic(const double       iRadius,
											const CATSurParam &iCenter,
											const CATAngle     iFrom,
											const CATAngle     iTo  ,
											CATSurface        *iSupport );

	virtual CATPEllipse * CreatePEllipseBasic(	const double      &iMajorAxis,
												const double      &iMinorAxis,
												const double      &iOffsetAngle,
												const CATSurParam &iCenter,
												const CATAngle     iFrom,
												const CATAngle     iTo  ,
												CATSurface        *iSupport );

	virtual CATPParabola * CreatePParabolaBasic(const CATMathAxis2D & iAxis,
												const double ip,
												const double * Limits,
												CATSurface        *iSupport );

	virtual CATPHyperbola * CreatePHyperbolaBasic(	const CATMathAxis2D & iAxis,
													const double iA,
													const double iB,
													const double * Limits,
													CATSurface        *iSupport );

	virtual CATPCurveEquation* CreatePCurveEquationBasic(	const CATMathFunctionX *iFx      ,
															const CATMathFunctionX *iFy      ,
															const double            iStart   ,
															const double            iEnd     ,
															const double            iMaxStart,
															const double            iMaxEnd  ,
															CATSurface       *iSupport );

	// La valeur par defaut du dernier parametre est laissee
	// car GeometricObjectsCATIA\YP00TEST\src\coverage.cpp y fait appel...
	virtual CATPNurbs* CreatePNurbsBasic(	CATKnotVector &iKnotVector,
											const CATLONG32 &iIsRational,	
											const double * iVertices,
											const double * iWeights,
											CATSurface* iSupport,
											const CATParameterizationOption iParameterizationOption = CatAutomaticParameterization,
                                                                                        int iCheckLevel=0);

	virtual CATPSpline * CreatePSplineBasic(const CATMathSetOfPointsNDWithVectors * iPoints,
											const double * iParameters,
											CATSurface * iSupport);

	virtual CATPSpline * CreatePSplineBasic(const CATMathSetOfPointsND * iParams,
											const CATMathSetOfPointsND * iPoints,
											const CATMathSetOfPointsND * iTangents,
											const CATMathSetOfPointsND * iSecondDerivatives,
											const CATLONG32 iFirstCoordIndex,
											const CATLONG32 iSecondCoordIndex,
											CATSurface * iSupport );

	virtual CATIForeignPCurve * CreateForeignPCurveBasic(CATForeignPCurveData* iForeignPCurveData,CATSurface * iSupport );

	virtual CATConstantLaw * CreateConstantLawBasic(const double iTMin,
													const double iTMax,
													const double iValue);

	virtual CATLinearLaw * CreateLinearLawBasic(const double iTMin,
												const double iValueAtTMin,
												const double iTMax,
												const double iValueAtTMax);

	virtual CATSTypeLaw * CreateSTypeLawBasic(	const double iTMin,
												const double iValueAtTMin,
												const CATLONG32   iNullDerivOrderAtTMin,
												const double iTMax,
												const double iValueAtTMax,
												const CATLONG32   iNullDerivOrderAtTMax);

	virtual CATSplineLaw * CreateSplineLawBasic(const CATLONG32 iNbrOfConstraint,
												const double *iT,
												const double *iValue);

	virtual CATCompositeLaw * CreateCompositeLawBasic(	const CATLONG32 iNbrOfFunctions,
														const double * iBorders,
														const CATMathFunctionX ** iFunctions);

	virtual CATCompositeLaw * CreateC2ExtrapolationCompositeLawBasic(const CATLaw *iToExtrapolate,
																		const double iMinLimiteValue,
																		const double iMaxLimiteValue,
																		const CATLONG32 iSide);
   
	virtual CATOrientable * CreateOrientableBasic(	CATGeometry *iGeometry,
													const CATLONG32 iOrientable);

	virtual CATPositiveLength GetResolution(const CATResolutionType iResolutionType) const;
	
	virtual CATPositiveLength GetModelSize() const ;
  
	virtual CATGeoFactory* GetImplicitGeoFactory() const ;
  
  virtual CATGeoFactory* GetGeoFactory() const ;
  
	virtual CATHelix * CreateHelixBasic(const CATMathLine      &iAxis,
										const CATMathPoint     &iStartingPoint,
										const CATAngle          iStart,
										const CATAngle          iEnd,
										const double            iPitch,
										const CATLONG32              iTrigonometricOrientation,
										double                  iRadiusEvolution);
 
	// -- adhesion a CATGeoFactory --------------------------------------------
	// -- on implemente les methodes de CATGeoFactory non declarees dans CATGeoFactoryProtected

  virtual void SetScaleCategory(CATCGMScaleCategory);
#if defined (CATIAR417) && defined (CATIACGMR217CAA)
  virtual CATCGMScaleCategory GetScaleCategory() const ;
#endif
  virtual double GetUnit() const;

	virtual double GetInfinite() const;

	virtual void SetModelSize(const double &iModelSize);
  virtual void SetModelSizeAndResolution(double iModelSizeInUnit,
                            CATBoolean iKeepPreviousResolution,
                            double iResolutionC0FromModelSize);

  virtual CATCGMTolerancesCompatibility  CompareTolerances(CATGeoFactory *iOtherFactory, 
                                                           CATBoolean     iThrowIfComparableButNotIdentical = FALSE);

	virtual void SetUnit(const double iUnitInMeter);

	virtual void AddKernelAttributeKey( int iAttributeKey, int iAttributeType );

	virtual void RemoveKernelAttributeKey( int iAttributeKey );

	virtual CATLONG32 GetNbKernelAttributeKeys();

	virtual int  GetKernelAttributeKey( CATLONG32 iIndex, int & oAttributeType );

	virtual CATUserGeometry * CreateUserGeometry(CATGeometry *iGeometry);

	// -- adhesion a CATICGMContainer -----------------------------------------
	// -- definition des methodes abstraites ou non implementees dans CATGeoFactoryProtected

	virtual CATGeometry* Next(	CATGeometry* iCurrent,
								CATGeometricType iType);

	virtual void Remove(CATICGMObject* iObjectToRemove, 
						const CATICGMContainer::CATRemovingDependancies iHow);
  
	virtual void Remove(CATICGMObject* iObjectToRemove,
						CATCGMJournalList* iInReport);
  
	virtual void Remove(CATBody* iBody,
						CATTopData &iTopData);

	virtual void *GetImplementCGM() const;
	virtual void *IsCGMV5() const;
	virtual int   IsSameTypeAs(CATICGMUnknown * iOtherObject) const;
  virtual  const CATTolerance & GetToleranceObject() const;
	virtual int  IsImplementCGMRemoved(const CATGeometricType iTypeReference=CATGeometryType) const;

  //---------------------------------------------------------------------------
  //  Scale option management for laws
  //---------------------------------------------------------------------------
  virtual void SetScaleOptionBasic(CATLaw* iLaw, CATLONG32 iPowerScaleF, CATLONG32 iPowerScaleX, CATLONG32 iReviewed=0);
  // returns 0 if not previously set
  virtual CATLONG32  GetScaleOptionBasic(CATLaw* iLaw,
                      CATLONG32& oPowerScaleF, CATLONG32& oPowerScaleX, CATLONG32& oReviewed);


};

//-----------------------------------------------------------------------

#endif
