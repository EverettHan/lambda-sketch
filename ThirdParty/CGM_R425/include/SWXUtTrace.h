//===================================================================
// COPYRIGHT DS SolidWorks 2010/07/20
//===================================================================
// SWXUtTrace.cpp
// Header definition of class SWXUtTrace
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2010/07/20 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef SWXUtTrace_H
#define SWXUtTrace_H

#include "SWXUtDebugging.h"
#include "CATUnicodeString.h"

class SWXIUtTraceListener_var;

//-----------------------------------------------------------------------

class ExportedBySWXUtDebugging SWXUtTrace
{
	static void Write(const CATUnicodeString& iText);

public:

	class ExportedBySWXUtDebugging Condition {
	public:
		Condition(bool iCond, const char *iFile, int iLine);
		
		operator bool() const { return mCond; }
		const CATUnicodeString &GetFile() const { return mFile; }
		int GetLine() const { return mLine; }
	private:
		bool mCond;
		CATUnicodeString mFile;
		int mLine;
	};

	static void WriteIf(const Condition &iCond, const CATUnicodeString &iText);
	static void WriteLineIf(const Condition &iCond, const CATUnicodeString &iText);
	static void WriteLineIfOrNotIf(const CATUnicodeString &iText); //PS3 [6/12/2012]: Why not? 
	static void WriteLocation(const Condition &iCond);
	static void AddTraceListener(const SWXIUtTraceListener_var &ispListener);
	static void RemoveTraceListener(const SWXIUtTraceListener_var &ispListener);

private:
	
	// Standard constructors and destructors
	// -------------------------------------
	SWXUtTrace ();
	virtual ~SWXUtTrace ();
	// Copy constructor and equal operator
	// -----------------------------------
	SWXUtTrace (SWXUtTrace &);
	SWXUtTrace& operator=(SWXUtTrace&);

};

#define SWXTRACE_TRUE SWXUtTrace::Condition(true, __FILE__, __LINE__)
#define SWXTRACE_FALSE SWXUtTrace::Condition(false, __FILE__, __LINE__)
#define SWXTRACE_VAR(VALUE) SWXUtTrace::Condition((VALUE), __FILE__, __LINE__)

//-----------------------------------------------------------------------

#endif
