//===================================================================
// COPYRIGHT  2017/05/23
//===================================================================
// CATKnowledgeRTVManager.cpp
// Header definition of class CATKnowledgeRTVManager
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2017/05/23 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef CATKnowledgeRTVManager_H
#define CATKnowledgeRTVManager_H
#include "DSYString.h"
#include "CATBoolean.h"
#include "CATString.h"
#include "CATListOfCATUnicodeString.h"
#include "KnowledgeItf.h"


//-----------------------------------------------------------------------
#define DPCRuntimeViewEnvName "DPCRuntimeView"

class ExportedByKnowledgeItf CATKnowledgeRTVManager
{
public:

CATKnowledgeRTVManager ();
virtual ~CATKnowledgeRTVManager ();

// Function that adds a file to the rtv folder and logs it inside the RTVInventory
static HRESULT AddFileToRTV(const CATUnicodeString & iID, CATUnicodeString & iSourceFilePath, CATUnicodeString & iTargetDirPath);
//Function that removes all files with this id
static HRESULT RemoveFiles(const CATUnicodeString &iID);
static CATListOfCATUnicodeString ListFiles(const CATUnicodeString & iID);
 
static HRESULT GetRTVPath(CATUnicodeString & oRTVDir);
static CATUnicodeString GetRTVInventoryFile();
static HRESULT	AddFoldersIfNeeded(CATUnicodeString& iTargetDirPath);
static HRESULT AddFileToInventory(const CATUnicodeString& iID, CATUnicodeString& path);
static HRESULT CleanRTVFromLoggedFiles();
static HRESULT AddDirectoryContentToRTV(const CATUnicodeString& iID, CATUnicodeString pathFolderToCopy);
static HRESULT CleanManifestFromRTV();
static HRESULT CleanIndexFileFromRTV();
 
private:

static 	HRESULT RecursiveCopyFolderToRTV(const CATUnicodeString& iID, CATUnicodeString& path, CATUnicodeString iTargetDirPath);

CATKnowledgeRTVManager (CATKnowledgeRTVManager &);
CATKnowledgeRTVManager& operator=(CATKnowledgeRTVManager&);

};

//-----------------------------------------------------------------------

#endif
