// COPYRIGHT Dassault Systemes 2005
//===================================================================
//
// CATIPLMMessageXML.h
// Define the CATIPLMMessageXML interface
//
//===================================================================
//
// Usage notes:
//   New interface: describe its use here
//
//===================================================================
//  Jan 2005  Creation: Code generated by the CAA wizard  DST
//===================================================================
/**
* @level Private
* @usage U3
*/

#ifndef CATIPLMMessageXML_H
#define CATIPLMMessageXML_H

#include "CATBaseUnknown.h"
#include "CATUnicodeString.h"

#if defined (private) || defined(friend) || defined (protected)

  #error Forbidden re-define of 'private', 'friend' or 'protected'
    // Fatal error on solaris
    @error 
#endif


#define AuthorizedModule     999

// List of authorized infrastructure modules 
#define CATPLMServicesItf                               AuthorizedModule
#define CATAsyncServices                                AuthorizedModule
#define CATPLMImplAdapterQLBase                         AuthorizedModule
#define PLMBatchVPLMServices                            AuthorizedModule
#define CoexistenceBatchUI                              AuthorizedModule
#define CATPLMImplAdapterBase                           AuthorizedModule
#define CATVPMNavPLMAccessBase                          AuthorizedModule
#define CATPLMIndexItfImpl                              AuthorizedModule
#define CATPLMModelBuilder                              AuthorizedModule
#define TSTCATPLMOpenQueryOperator                      AuthorizedModule
#define TSTCATPLMOpenQueryWithFilterOnAttr              AuthorizedModule
#define TSTCATPLMxNavWithPath                           AuthorizedModule
#define TestCoexistenceExpand                           AuthorizedModule
#define TestFilterExpandDumpXML                         AuthorizedModule
#define CATOmyAsyncPlatformTestCommon                   AuthorizedModule
#define TSTCATPLMQueryDelFilterWithConfig               AuthorizedModule
#define TSTCATPLMAllQueriesNoSelectCond                 AuthorizedModule
#define TSTCATPLMNavigate                               AuthorizedModule
#define TSTCATPLMReadSpecWithConfig                     AuthorizedModule
#define AdpTests                                        AuthorizedModule
#define TSTCATPLMQueriesInXML                           AuthorizedModule
#define TSTCATPLMSimilar                                AuthorizedModule
#define TSTCATPLMQueryFilterOUT                         AuthorizedModule
#define TSTCATPLMQueryFilterIN                          AuthorizedModule
#define TSTCATPLMQueryFilterIN2                         AuthorizedModule
#define TSTCATPLMBasicQueryEnumBinDat                   AuthorizedModule
#define CATPLMSessionTester                             AuthorizedModule
#define TSTCATPLMWMBasicQueryFailed                     AuthorizedModule
#define TSTCATPLMBasicQueryOnEmptyAttr                  AuthorizedModule
#define TSTCATPLMBasicQueryWithDate                     AuthorizedModule
#define TSTCATPLMBasicQueryWithOrAndAndCond             AuthorizedModule
#define TSTCATPLMBasicQueryOperator                     AuthorizedModule
#define DumpConnectorXML                                AuthorizedModule
#define VPVODTInfra                                     AuthorizedModule
#define TSTCATPLMxExpandIterFilterOnPLMCoreInstance     AuthorizedModule
#define CATPCTExpand                                    AuthorizedModule
#define TSTCATPLMxExpandIterFilterOnPLMInstance         AuthorizedModule
#define TSTCATPLMxFilterFuncXMLStream                   AuthorizedModule
#define TSTCATPLMxQueryUsingXML                         AuthorizedModule
#define TSTCATPLMxQueryCondOnExt                        AuthorizedModule
#define TSTCATPLMxExpandModePushDecorate                AuthorizedModule
#define TSTCATPLMxBasic                                 AuthorizedModule
#define TSTCATPLMxSRWithExtCreateAndRead                AuthorizedModule
#define TSTCATPLMWMPushExpandNavOnSelectTypes           AuthorizedModule
#define TSTCATPLMDbgBasicQueryWithDate                  AuthorizedModule
#define TSTCATPLMDbgBasicQueryEnumBinDat                AuthorizedModule
#define TSTCATPLMExpandInheritance                      AuthorizedModule

#if _MK_MODNAME_ == AuthorizedModule

#else

      #error Forbidden Access To CATIPLMMessageXML Services from a non-authorized module
        // Fatal error on solaris
        @error 
#endif

#undef AuthorizedModule

// List of authorized infrastructure modules 
#undef CATPLMServicesItf
#undef CATAsyncServices
#undef CATPLMImplAdapterQLBase
#undef PLMBatchVPLMServices
#undef CoexistenceBatchUI
#undef CATPLMImplAdapterBase
#undef CATVPMNavPLMAccessBase
#undef CATPLMIndexItfImpl
#undef CATPLMModelBuilder
#undef TSTCATPLMOpenQueryOperator
#undef TSTCATPLMOpenQueryWithFilterOnAttr
#undef TSTCATPLMxNavWithPath
#undef TestCoexistenceExpand
#undef TestFilterExpandDumpXML   
#undef CATOmyAsyncPlatformTestCommon
#undef TSTCATPLMQueryDelFilterWithConfig
#undef TSTCATPLMAllQueriesNoSelectCond
#undef TSTCATPLMNavigate
#undef TSTCATPLMReadSpecWithConfig
#undef AdpTests
#undef TSTCATPLMQueriesInXML
#undef TSTCATPLMSimilar
#undef TSTCATPLMQueryFilterOUT
#undef TSTCATPLMQueryFilterIN
#undef TSTCATPLMQueryFilterIN2
#undef TSTCATPLMBasicQueryEnumBinDat
#undef CATPLMSessionTester
#undef TSTCATPLMWMBasicQueryFailed
#undef TSTCATPLMBasicQueryOnEmptyAttr
#undef TSTCATPLMBasicQueryWithDate
#undef TSTCATPLMBasicQueryWithOrAndAndCond
#undef TSTCATPLMBasicQueryOperator
#undef DumpConnectorXML
#undef VPVODTInfra
#undef TSTCATPLMxExpandIterFilterOnPLMCoreInstance
#undef CATPCTExpand
#undef TSTCATPLMxExpandIterFilterOnPLMInstance
#undef TSTCATPLMxFilterFuncXMLStream
#undef TSTCATPLMxQueryUsingXML
#undef TSTCATPLMxQueryCondOnExt
#undef TSTCATPLMxExpandModePushDecorate
#undef TSTCATPLMxBasic
#undef TSTCATPLMxSRWithExtCreateAndRead
#undef TSTCATPLMWMPushExpandNavOnSelectTypes
#undef TSTCATPLMDbgBasicQueryWithDate
#undef TSTCATPLMDbgBasicQueryEnumBinDat
#undef TSTCATPLMExpandInheritance

#if defined(__CATPLMServicesItf)
#define ExportedByCATPLMServicesItf DSYExport
#else
#define ExportedByCATPLMServicesItf DSYImport
#endif
#include "DSYExport.h"

#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedByCATPLMServicesItf IID IID_CATIPLMMessageXML;
#else
extern "C" const IID IID_CATIPLMMessageXML ;
#endif

/**
* Interface used to build a CATIPLMQueryFilter from an XML.
*/
class ExportedByCATPLMServicesItf CATIPLMMessageXML: public CATBaseUnknown
{
  CATDeclareInterface;

  public:

  /**
  * Read XML contained in iMessage and build a CATIPLMQueryFilter/CATIPLMMessageXML object.
  * @param iMessage
  *   The query condition expression in XML format.
  */
  virtual HRESULT ReadXMLExpression(const CATUnicodeString& iMessage) = 0;

  //@deprecated
  virtual HRESULT ReadXMLExpression( CATUnicodeString * iMessage) = 0;

};

#endif
