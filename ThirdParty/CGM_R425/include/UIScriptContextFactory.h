//===================================================================
// COPYRIGHT Dassault Systemes 2013/04/25
//===================================================================
// UIScriptContextFactory.cpp
// Header definition of class UIScriptContextFactory
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2013/04/25 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef UIScriptContextFactory_H
#define UIScriptContextFactory_H

#include "UIScriptBase.h"


//System
#include "CATListPV.h"
#include "CATBaseUnknown.h"

//ECMAScriptEngine
#include "ESUniverse.h"

class UIScriptContext; 

/**
* <b>Role</b>: A factory to create UIScriptContext instances.
*
* This factory allows you to create contexts dedicated to run scripts with ready-to-use UI dedicated services.
*
* @see UIScriptContext
* @see UIScriptBinderBase
*/
class ExportedByUIScriptBase UIScriptContextFactory: public CATBaseUnknown
{
  CATDeclareClass;

public:
  /**
  * @return the unique instance of UIScriptContextFactory.
  */
  static UIScriptContextFactory* Instance(); 
  /**
  * Clear the factory instance.
  */
   static void Clear();
  /**
  * Create a context.
  * @return the created context. 
  */
  UIScriptContext* CreateContext();
  /**
  * Delete the given context 
  */
  void DeleteContext(UIScriptContext* iCtx);
  /**
  * Garbage collector will clear all objects that are still alive but that are no more referenced within scripts.
  */
  void CollectGarbage();

private:
  // Standard constructor and destructor
  UIScriptContextFactory ();
  virtual ~UIScriptContextFactory ();
  // Copy constructor and equal operator
  UIScriptContextFactory (UIScriptContextFactory &);
  UIScriptContextFactory& operator=(UIScriptContextFactory&);

  static UIScriptContextFactory* s_pInstance; 
  CATListPV* _ctxList; 
  ES::Universe::Factory* _esFactory; 
  ES::Universe* _esUniverse;
  unsigned int _esIDCount;

};

//-----------------------------------------------------------------------

#endif
