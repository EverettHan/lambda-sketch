// COPYRIGHT Dassault Systemes 2005
//===================================================================
//
// CATVizComputeSceneGraphSizeRender.h
// Header definition of CATVizComputeSceneGraphSizeRender
//
//===================================================================
//
// Usage notes:
//
//===================================================================
//
//  Feb 2005  Creation: Code generated by the CAA wizard  SVQ
//===================================================================
#ifndef CATVizComputeSceneGraphSizeRender_H
#define CATVizComputeSceneGraphSizeRender_H

#include "SGInfra.h"
#include "CATDrawRender.h"
#include "CATVizPtrList.h"

class CATRep;
class CATViz3DFace;
//-----------------------------------------------------------------------

/**
 * Describe your class here.
 * <p>
 * Using this prefered syntax will enable mkdoc to document your class.
 */
class ExportedBySGInfra CATVizComputeSceneGraphSizeRender: public CATDrawRender
{
   CATDeclareClass_Deprec;
   
public:
   
   // Standard constructors and destructors
   // -------------------------------------
   CATVizComputeSceneGraphSizeRender  (const CATSupport &support);
   virtual ~CATVizComputeSceneGraphSizeRender ();
   
   virtual int IsDrawable (const CATGraphicAttributeSet &, const float *center, const float radius, const int SubElementId);
   virtual int IsDrawable (const CATGraphicAttributeSet &, const CAT3DBoundingSphere &, const CATRep &, CATGraphicMaterial *iMat = 0);
   virtual int IsDrawable (const CATGraphicAttributeSet &, const int SubElementId);
   virtual int IsDrawable (const CATGraphicAttributeSet &, const CATRep &,  CATGraphicMaterial *iMat = 0);
   virtual int IsDrawable (const CATGraphicAttributeSet &,CATGraphicMaterial *iMat );
   virtual int IsDrawable (const CATGraphicAttributeSet &);
   
   virtual int IsDrawable (const CATGraphicAttributeSet &, const CAT2DBoundingBox &, const CATRep &);
   virtual int IsDrawable (const CATGraphicAttributeSet &, const CAT2DBoundingBox &, const int);
   
   virtual int IsSeen  (const float*, const float*);
   
   int IsToSmall (const CAT3DBoundingSphere &);
   int IsToSmall (const CAT2DBoundingBox &);
   
   int IsInside  (const CAT3DBoundingSphere &);
   int IsInside  (const CAT2DBoundingBox &);
   
   float Get3DModelCulling (const CAT3DBoundingSphere &) const;
   int   Get3DLODNumber (const CAT3DBoundingSphere & iBS3D, const int iNbOfLOD, const float sagArray[] ) const;
   float Get3DModelSag (const CAT3DBoundingSphere & iBS3D) const;
   
   virtual void DrawCATViz3DFace(CATViz3DFace *face);
   
   virtual int DrawRepresentation (CATRep &rep, int iInside, void* &iData);
   
   virtual int ViewMode (const int mode) const;
   
   virtual CATRender * PushMatrix (CAT4x4Matrix &);
   virtual CATRender * PushMatrix (CAT3x3Matrix &);
   virtual void PopMatrix         (CATRender *);
   
   virtual void PushReference (void);
   virtual void PopReference  (void);
   
   virtual void BeginDrawDL (CATVizElementType type);
   virtual void EndDrawDL   (CATVizElementType type);
   
   virtual void BeginDrawLeft  (CATViewpoint &viewpoint, const int, const float);
   virtual void BeginDrawRight (CATViewpoint &viewpoint, const int, const float);
   
   virtual void SaveBackBuffer     (char **);
   virtual void RestoreBackBuffer  (char **);
   unsigned int GetNumberOfTriangles() {return _nbTriangles;};
   size_t GetSizeInBytes() {return _sizeInBytes;};
   
   // Copy constructor and equal operator
   // -----------------------------------
   CATVizComputeSceneGraphSizeRender (CATVizComputeSceneGraphSizeRender &);
   CATVizComputeSceneGraphSizeRender& operator=(CATVizComputeSceneGraphSizeRender&);
   
private :

   unsigned int _nbTriangles;
   size_t _sizeInBytes;
   CATVizPtrList<CATRep> _dittoList;
   
};

//-----------------------------------------------------------------------

#endif
