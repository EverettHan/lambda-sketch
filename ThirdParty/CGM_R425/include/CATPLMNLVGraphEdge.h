//===================================================================
// COPYRIGHT Dassault Systemes 2018/06/13
//===================================================================
// CATPLMNLVGraphEdge.cpp
// Header definition of class CATPLMNLVGraphEdge
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2018/06/13 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef CATPLMNLVGraphEdge_H
#define CATPLMNLVGraphEdge_H

#include "CATPLMServicesNLV.h"
#include "CATOmxSharable.h"
#include "CATPLMNLVSemantic.h"
#include "CATOmxArray.h"
#include "CATOmxJsonObject.h"

class CATPLMNLVGraphNode;
class CATPLMNLVGraph;

class ExportedByCATPLMServicesNLV CATPLMNLVGraphEdge : public CATOmxSharable
{
public:
  CATPLMNLVGraphEdge(CATPLMNLVGraphNode& iAncestorNode, CATPLMNLVGraphNode& iDescendantNode, CATPLMNLVSemantic::Intent iSemantic);
  virtual ~CATPLMNLVGraphEdge();

  CATPLMNLVGraphNode& GetAncestorNode() const;
  CATPLMNLVGraphNode& GetDescendantNode() const;
  CATPLMNLVSemantic::Intent GetSemantic() const;

private:
  CATPLMNLVGraphEdge(CATPLMNLVGraphEdge&);
  CATPLMNLVGraphEdge& operator=(CATPLMNLVGraphEdge&);

  /*
  * The expected json:
  *   {
  *     "semantic":"E",
  *     "id" : "pid:60FA2FB1000051EC5B20E68300009B0F"
  *   }
  */
  static HRESULT _BuildFromJsonObject(const CATOmxJsonObject& iJson, const CATPLMNLVGraph& iGraph, CATPLMNLVGraphNode& iDescendantNode, CATPLMNLVGraphEdge*& oEdge);

  CATPLMNLVGraphNode& _AncestorNode;
  CATPLMNLVGraphNode& _DescendantNode;
  CATPLMNLVSemantic::Intent _Semantic;

  friend class CATPLMNLVGraphBuilder;
};

template<> CATOmxCollecManager& CATOmxDefaultCollecManager<CATPLMNLVGraphEdge*>::manager();
template<> CATOmxCollecManager& CATOmxDefaultCollecManager<CATOmxArray<CATPLMNLVGraphEdge*> >::manager();

#endif
