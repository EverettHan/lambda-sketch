//===================================================================
// COPYRIGHT Dassault Systemes 2018/06/08
//===================================================================
// CATOmxJsonPath.cpp
// Header definition of class CATOmxJsonPath
//===================================================================
//
// Usage notes:
//
// Basic implementation of JsonPath specification (see: http://goessner.net/articles/JsonPath/)
// It only supports the following syntax:
//    $['store']['book'][0]['title']
//
// It doesn't support the logical syntax (like last element, or boolean conditions... etc).
//
//===================================================================
//  2018/06/08 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef CATOmxJsonPath_H
#define CATOmxJsonPath_H

#include "CATOMYUtils.h"
#include "CATOmxJsonObject.h"
#include "CATOmxJsonArray.h"
#include "CATOmxJsonItem.h"
#include "CATOmxJsonPathElement.h"
#include "CATOmxArray.h"
#include "CATUnicodeString.h"

class ExportedByCATOMYUtils CATOmxJsonPath
{
public:
  /*
  * Reads the input json object's value at the given path.
  * See usage note for the supported syntax and features
  */
  static HRESULT Read(const CATOmxJsonObject& iJsonObject, const CATUnicodeString& iPath, CATOmxJsonItem& oValue);

  /*
  * Reads the input json array's value at the given path.
  * See usage note for the supported syntax and features
  */
  static HRESULT Read(const CATOmxJsonArray& iJsonArray, const CATUnicodeString& iPath, CATOmxJsonItem& oValue);

  /*
  * Returns true if the given path is a valid json path.
  */
  static bool IsJsonPath(const CATUnicodeString& iPath);

private:
  static HRESULT _Read(const CATOmxJsonItem& iJsonItem, const CATUnicodeString& iPath, CATOmxJsonItem& oValue);
  static HRESULT _ParsePathElements(const CATUnicodeString& iPath, CATOmxArray<CATOmxJsonPathElement>& oPathElements);
};

#endif
