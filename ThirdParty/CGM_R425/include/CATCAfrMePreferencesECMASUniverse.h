//===================================================================
// COPYRIGHT  2016/11/30
//===================================================================
// CATCAfrMePreferencesECMASUniverse.cpp
// Header definition of class CATCAfrMePreferencesECMASUniverse
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2016/11/30 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef CATCAfrMePreferencesECMASUniverse_H
#define CATCAfrMePreferencesECMASUniverse_H

#include "CATAfrECMASImpl.h"
#include "CATBaseUnknown.h"
//For ECMA Script
#include "ESUniverse.h"
#include "ESWorld.h"
#include "CATUnicodeString.h"
#include "CATListOfCATUnicodeString.h"
#include "CATListOfCATString.h"
//-----------------------------------------------------------------------

class CATAfrPrefItem;
class ExportedByCATAfrECMASImpl CATCAfrMePreferencesECMASUniverse: public CATBaseUnknown
{
  friend class CATCAfrPreferencesManager;
public:
  static CATCAfrMePreferencesECMASUniverse * GetMePreferencesUniverse(int iCreateOrNot=1);

  //Function for use in AfrProperties\CATAfrPreferenceModel.m
  //------------------------------------------------------------
  //Note- Methods will be called in below sequence to read the value from JS. And m_InputValuesList wiil be
  //re-initialized after these calls.
  //      1. SetInputArgumentsValuesForJS()
  //      2. GetControlValuesFromJS OR GetControlValueFromJS

  //Get Value from Java Script
  CATUnicodeString GetControlValueFromJS(const CATString & iModuleName, const CATString & iJSFileName,const CATString & iFunctionName, const CATUnicodeString & i_value="");
  CATListOfCATUnicodeString& GetControlValuesFromJS(const CATString & iModuleName, const CATString & iJSFileName, const CATString & iFunctionName, const CATUnicodeString & i_value="");

  //Pass value to java script
  void SetInputArgumentsValuesForJS(const CATListOfCATUnicodeString & i_value){ m_InputValuesList=i_value;}

  //------------------------------------------------------------
private:
  // Copy constructor and equal operator
  // -----------------------------------
  CATCAfrMePreferencesECMASUniverse (CATCAfrMePreferencesECMASUniverse &);
  CATCAfrMePreferencesECMASUniverse& operator=(CATCAfrMePreferencesECMASUniverse&);

  // Standard constructors and destructors
  // -------------------------------------
  CATCAfrMePreferencesECMASUniverse ();
  virtual ~CATCAfrMePreferencesECMASUniverse ();

  void CreateMePreferencesUniverseAndWorld();
  int LoadModule(const CATString & iModuleName);
  int LoadScript(const CATString & iJSFileName);
  CATString GetPrereqPath();
  CATListOfCATString GetPathList(const CATString & inPath, const CATChar &chr);
  CATString GetFilePath(CATString iJSFileName);



  static CATCAfrMePreferencesECMASUniverse * m_pMePreferencesUniverse;
  ES::Universe * m_pUniverse;
  ES::World * m_pWorld;
  ES::Universe::Factory *m_pUniverseFactory;

  CATListOfCATUnicodeString m_InputValuesList;
  CATListOfCATUnicodeString m_ControlValuesList;
  CATListOfCATString m_LodedModulesList;
  CATListOfCATString m_LodedJSFilesList;
};

//-----------------------------------------------------------------------

#endif
