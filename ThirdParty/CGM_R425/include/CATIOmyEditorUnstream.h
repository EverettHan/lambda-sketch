// COPYRIGHT Dassault Systemes 2007
//===================================================================
//
// CATIOmyEditorUnstream.h
// Define the CATIOmyEditorUnstream interface
//
//===================================================================
//
// Usage notes:
//   Interface allowing the unstreaming of editor information in LocalSave context in a restore image phase. 
//
//===================================================================
//
//  May 2007  Creation: Code generated by the CAA wizard  hag
//===================================================================
#ifndef CATIOmyEditorUnstream_H
#define CATIOmyEditorUnstream_H

#include "CATOMYBaseSession.h"
#include "CATBaseUnknown.h"
#include "CATDataType.h" 

#ifndef LOCAL_DEFINITION_FOR_IID
extern ExportedByCATOMYBaseSession IID IID_CATIOmyEditorUnstream;
#else
extern "C" const IID IID_CATIOmyEditorUnstream ;
#endif

class CATOmyEditor;
class CATOmyEditorRegistry;
/**
* @level Protected
* @usage U4 CATOmyEditorUnstreamAdaptor
*/

/**
* <br><b>Role</b>: This interface should be implemented by VPMNav objects. It allows editors to 
* be unstreamed from LocalSave directory
* <p>
* This interface should only be called by LocalSave infrastructure (CATPLMIntegration team)
*/
class ExportedByCATOMYBaseSession CATIOmyEditorUnstream: public CATBaseUnknown
{
  CATDeclareInterface;

  public:
	  /**
    * Unstream the informations defining an editor from a buffer.
    * The resulting editor should be registered in the given registry.
    */
    virtual HRESULT UnstreamEditorToRegistry(CATOmyEditorRegistry * iRegistry,
      unsigned char* iBuffer, CATLONG32& iNbCell, CATOmyEditor*& oEditor)=0;

	  /**
    * Deprecated R207, implement the previous method instead
	  * Unstreams the informations defining an editor from a buffer. 
	  *
	  * <br><b>Role</b>: Unstreams the informations defining an editor from buffer retrieved from the LocalSave directory.
	  * <br> This buffer was generated at LocalSave using @href CATIOmyEditorStream  interface.
	  * <br> 
	  *
	  * @param iEditorId [in]
	  *   The identifier of the editor to be unstreamed.
	  * @param iBuffer [in]
	  *   The char array containing the information defining the corresponding editor.
	  * @param iNbCell [in]
	  *   The number of elements in the input iBuffer char array.
	  * @param oEditor [out]
	  *   A pointer to the unstreamed CATOmyEditor. This returned editor should be created with the input identifier and registered
	  * in the @href CATOmyClientEditorRegistry  in the implementation of UnstreamEditor.
	  *
	  * @return
	  *   <code>S_OK</code> if the editor was successfully unstreamed, <code>E_FAIL</code> otherwise.
	  *
	  */
	  virtual HRESULT UnstreamEditor(int& iEditorId, unsigned char* iBuffer,
      CATLONG32& iNbCell, CATOmyEditor*& oEditor)=0;
};

//------------------------------------------------------------------

#endif
