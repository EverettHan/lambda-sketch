#ifndef CATVidLaySideAttachConstraints_h
#define CATVidLaySideAttachConstraints_h

// COPYRIGHT Dassault Systemes 2005

//===================================================================
//
// CATVidLaySideAttachConstraints.h
// Header definition of CATVidLaySideAttachConstraints
//
//===================================================================
//
// Usage notes:
//
//===================================================================
//
//  Oct 2005  Creation: Code generated by the CAA wizard  jov
//===================================================================

#include "VisuDialog.h"
#include "CATVidLayConstraints.h"
#include "CATBoolean.h"
class CATUnicodeString;

//-----------------------------------------------------------------------
/**
 * @ingroup VIDLayout
 */
class ExportedByVisuDialog CATVidLaySideAttachConstraints: public CATVidLayConstraints
{
  CATDeclareClass;

public:

  // Standard constructors and destructors
  // -------------------------------------
  CATVidLaySideAttachConstraints ();
  virtual ~CATVidLaySideAttachConstraints ();

  virtual CATBoolean IsEqualTo(const CATVidLayConstraints& i_constraints) const;

  /**
   * Copy the given constraints values.
   */
  virtual void CopyFrom(const CATVidLayConstraints& i_constraints);

  // Copy constructor and equal operator
  // -----------------------------------
  CATVidLaySideAttachConstraints (const CATVidLaySideAttachConstraints& i_original);
  CATVidLaySideAttachConstraints& operator=(const CATVidLaySideAttachConstraints& i_original);

  enum CATVidLaySideAttachH{LEFT_PERCENT, LEFT_PX, RIGHT_PX, NO_H_SPECIFIED};
  enum CATVidLaySideAttachV{TOP_PERCENT, TOP_PX, BOTTOM_PX, NO_V_SPECIFIED };

  void SetAttachmentH(CATVidLaySideAttachH i_hAttachementType, float i_hValue);
  void GetAttachmentH(CATVidLaySideAttachH& o_hAttachementType, float& o_hValue) const;

  void SetAttachmentV(CATVidLaySideAttachV i_vAttachementType, float i_vValue);
  void GetAttachmentV(CATVidLaySideAttachV& o_vAttachementType, float& o_vValue) const;

  void SetAttachment(CATVidLaySideAttachH i_hAttachementType, float i_hValue, CATVidLaySideAttachV i_vAttachementType, float i_vValue);
  void GetAttachment(CATVidLaySideAttachH& o_hAttachementType, float& o_hValue, CATVidLaySideAttachV& o_vAttachementType, float& o_vValue);

  void SetOffsetForPercentPositioning(const int& i_offsetXForPercent, const int& i_offsetYForPercent);
  void GetOffsetForPercentPositioning(int& o_offsetXForPercent, int& o_offsetYForPercent) const;

	void SetWidthPercent(const float i_widthPercent);
	void GetWidthPercent(float& i_widthPercent);

	void SetHeightPercent(const float i_heightPercent);
	void GetHeightPercent(float& i_heightPercent);


  // Clone the constraint, in a virtual context
  // ------------------------------------------
  virtual CATVidLayConstraints* Clone() const; 

  // By default, all this values are set to -1
  // Be careful to ensure that only one of these values is different of -1
  float _leftPercent;  // percentage positioning 
  float _leftPx;       // px position with left attachment
  float _rightPx;      // px position with right attachment

  // By default, all this values are set to -1
  // Be careful to ensure that only one of these values is different of -1
  float _topPercent;  // percentage positioning
  float _topPx;       // px position with top attachment
  float _bottomPx;    // px position with top attachment

  float _widthPercent;
  float _heightPercent;

  CATVidLaySideAttachH _hAttachementType;
  CATVidLaySideAttachV _vAttachementType;

private:
   int _offsetXForPercent;
   int _offsetYForPercent;
};

inline int operator == (const CATVidLaySideAttachConstraints &i_constaints1, const CATVidLaySideAttachConstraints &i_constaints2)
{
  int offsetXForPercent1=0;
  int offsetYForPercent1=0;
  i_constaints1.GetOffsetForPercentPositioning(offsetXForPercent1, offsetYForPercent1);
  int offsetXForPercent2=0;
  int offsetYForPercent2=0;
  i_constaints1.GetOffsetForPercentPositioning(offsetXForPercent2, offsetYForPercent2);

  return (i_constaints1._leftPercent == i_constaints2._leftPercent && i_constaints1._leftPx == i_constaints2._leftPx &&  
      i_constaints1._rightPx == i_constaints2._rightPx &&  i_constaints1._topPercent == i_constaints2._topPercent &&  
      i_constaints1._topPx == i_constaints2._topPx &&  i_constaints1._bottomPx == i_constaints2._bottomPx &&  
      i_constaints1._widthPercent == i_constaints2._widthPercent && i_constaints1._heightPercent == i_constaints2._heightPercent &&
      offsetXForPercent1 == offsetXForPercent2 && offsetYForPercent1 == offsetYForPercent2); 
}

extern "C" ExportedByVisuDialog 
HRESULT CATSYPCATVidLaySideAttachConstraintsSerializer(const CATBaseUnknown_var& i_spCBU, CATUnicodeString& o_string);

#endif // CATVidLaySideAttachConstraints_h
