//===================================================================
// COPYRIGHT Microsoft 2012/02/09
//===================================================================
// CATPLMSyncRequestServices.cpp
// Header definition of class CATPLMSyncRequestServices
//===================================================================
//
// Use PLMAdapter QueryFilter to be platform independent.
//
//===================================================================
//  2015/01/19 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef CATPLMSyncRequestServices_H
#define CATPLMSyncRequestServices_H

#define AuthorizedModule              69
#define CATPLMAsync                          AuthorizedModule
#define CATAsyncStreamFoundation             AuthorizedModule

#if _MK_MODNAME_ == AuthorizedModule
#else
  #error Forbidden Access To CATPLMSyncRequestServices
  // Fatal error on solaris
  @error
#endif

#undef AuthorizedModule
#undef CATPLMAsync
#undef CATAsyncStreamFoundation

// System
#include "CATDataType.h"
#include "CATUnicodeString.h"
#include "CATSysErrorDef.h"

// ObjectModelerCollection
#include "CATOmxArray.h"

#include "CATPLMServicesItf.h"

class ExportedByCATPLMServicesItf CATPLMSyncRequestServices
{
public:
  CATPLMSyncRequestServices();
  virtual ~CATPLMSyncRequestServices();

  /* Execute a synchronous http request
  iUrl : url of the http server
  iListHeader : http headers to add/modify /!\ HEADERS HAS TO END WITH CRLF (\r\n)
  iMethod : http method to use (GET, POST, etc)
  iPostArgs : content for POST request
  opData : answer content
  oDataSize : answer length on opData pointer
  */
  HRESULT ExecuteXMQLQueries(const CATUnicodeString& iUrl, CATOmxArray<CATUnicodeString>& iListHeader,
    const CATUnicodeString& iMethod, const CATUnicodeString& iPostArgs, char*& opData, CATULONG64& oDataSize);

};
#endif
