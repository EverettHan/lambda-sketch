// COPYRIGHT Dassault Systemes 2007
//===================================================================
//
// CATSYPTrigger.h
// Header definition of CATSYPTrigger
//
//===================================================================
//
// Usage notes:
//
//===================================================================
//
//  Mar 2007  Creation: Code generated by the CAA wizard  jov
//===================================================================
#ifndef CATSYPTrigger_H
#define CATSYPTrigger_H

#include <IntroInfra.h>
#include <CATSYPTriggerBase.h>
#include <CATUnicodeString.h>

class CATISYPValues_var;

//-----------------------------------------------------------------------

/**
* A CATSYPTrigger reacts to a certain value of an introspectable property of a given introspectable class.
* It can triggers multiple CATSYPSetter and/or CATSYPBeginStoryboard (animations).
*/
class ExportedByIntroInfra CATSYPTrigger: public CATSYPTriggerBase
{
  CATDeclareClass;

public:
  CATSYPTrigger ();

  void SetProperty ( const CATUnicodeString& i_property);
  INLINE const CATUnicodeString& GetProperty () const
  {
    return _property;
  }

  INLINE void SetTriggeringValue(CATBaseUnknown* i_pTriggeringValue)
  {
    if (_pTriggeringValue) _pTriggeringValue->Release();
    _pTriggeringValue = i_pTriggeringValue;
    if (_pTriggeringValue) _pTriggeringValue->AddRef();
  }
  INLINE CATBaseUnknown* GetTriggeringValue()const
  {
    return _pTriggeringValue;
  }

  virtual void ReactOnPropertyChange(const CATISYPValues_var& spValue);
protected:
  virtual ~CATSYPTrigger ();
  // Copy constructor and equal operator
  // -----------------------------------
  CATSYPTrigger (CATSYPTrigger &);
  CATSYPTrigger& operator=(CATSYPTrigger&);
private:
  CATUnicodeString _property;
  CATBaseUnknown* _pTriggeringValue;
};
//-----------------------------------------------------------------------

#endif
