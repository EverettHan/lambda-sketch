//===================================================================
// COPYRIGHT Dassault Systemes 2017-02-08
//===================================================================
// VisMaterialParameter.cpp
// Header definition of class VisMaterialParameter
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2017-02-08 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef VisMaterialParameter_H
#define VisMaterialParameter_H

#include "SGInfra.h"
#include "CATUnicodeString.h"

//class CATPixelImage;


//-----------------------------------------------------------------------

class ExportedBySGInfra VisMaterialParameter
{
public:

  typedef enum
  {
    eInvalid=0,
    eFloat,       //=1 non-texturable scalars (floats or vectors)
    eFloatParam,  //=2 texturable scalars     (floats or vectors)
    eTexture,     //=3 only texturable
    eInt,         //=4 single non-texturable integer value
    NB_TYPES      //=5
  } Type;

  // Standard constructors and destructors
  // -------------------------------------
  VisMaterialParameter (const CATUnicodeString &iName=CATUnicodeString(), 
    VisMaterialParameter::Type iType=eInvalid, 
    int iNbElem=0,
    CATBoolean iDoGammaCorrection=FALSE, CATBoolean iIsMADSupported = FALSE);

  virtual ~VisMaterialParameter ();

  bool operator==(const VisMaterialParameter& iSrc) const;
  bool operator!=(const VisMaterialParameter& iSrc) const;

  static const char* Convert (VisMaterialParameter::Type iType);
  static VisMaterialParameter::Type Convert (const char* iStr);

  inline CATUnicodeString GetName() const;

  inline CATBoolean IsTexturable() const;

  inline Type GetType() const;

  inline int GetNumberOfElements() const;

  inline CATBoolean IsMADSupported() const;

  inline CATBoolean IsGammaCorrection() const;

  void SetGammaCorrection(const CATBoolean iVal);

private:

  // member variables
  CATUnicodeString _name;
  int _nbElem;
  
  union
  {
    struct
    {
      CATULONG32  _type: 4;
      CATULONG32  _doGammaCorrection : 1;
      CATULONG32  _supportMAD : 1;
    };
    CATULONG32    _flags;
  };

};

inline CATBoolean VisMaterialParameter::IsTexturable() const
{
  return _type==eFloatParam || _type==eTexture;
}

inline CATUnicodeString VisMaterialParameter::GetName() const 
{ 
  return _name; 
}

inline VisMaterialParameter::Type VisMaterialParameter::GetType() const
{ 
  return (VisMaterialParameter::Type)_type; 
}

inline int VisMaterialParameter::GetNumberOfElements() const 
{ 
  return _nbElem; 
}

inline CATBoolean VisMaterialParameter::IsMADSupported() const 
{ 
  return _supportMAD; 
}

inline CATBoolean VisMaterialParameter::IsGammaCorrection() const
{ 
  return _doGammaCorrection;
}

#endif
