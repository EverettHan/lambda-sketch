
//===================================================================
// COPYRIGHT Dassault Systemes 2018/04/04
//===================================================================
// CATAsyncXMQLRequestLatency.cpp
// Header definition of class CATAsyncXMQLRequestLatency
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2018/04/04 Creation: Code generated by the 3DS wizard
//===================================================================




#ifndef CATAsyncXMQLRequestLatency_H
#define CATAsyncXMQLRequestLatency_H


#include "CATPLMxMQL.h"
#include "CATOmxSharable.h"
#include "CATA5ParserStatistics.h"
#include "CATOmxSR.h"

//-----------------------------------------------------------------------

class ExportedByCATPLMxMQL  CATAsyncXMQLRequestLatency : public CATOmxSharable
{
public:
  // Standard constructors and destructors
  // -------------------------------------
  CATAsyncXMQLRequestLatency();
  virtual ~CATAsyncXMQLRequestLatency();

  /**
  * This function allows to record the timestamp when the generation of the request is finished
  * this timestamp is required in order to compute the latency
  * <br><b>Save the time stamp of the end of the generation of the request</b>:

  * @return
  * <dl>
  * <dt><code>S_OK</code>    The time stamp has been correctly saved for the latency computation <dd>
  * <dt><code>E_FAIL</code>   The call to this function doesn't respect the process, a successful call to '' should be done before
  * <dd>
  * </dl>
  */
  HRESULT NotifyRequestGenerationFinished();

  /*
  * Returned CATA5ParserStatistics ptr is not addrefed
  */
  CATA5ParserStatistics* GetParserStatistics();

  HRESULT PublishLatency();

private:
  // Copy constructor and equal operator
  // -----------------------------------
  CATAsyncXMQLRequestLatency(CATAsyncXMQLRequestLatency &);
  CATAsyncXMQLRequestLatency& operator=(CATAsyncXMQLRequestLatency&);


  CATOmxSR<CATA5ParserStatistics> _spParserStatistics;
  CATLONG64 _RequestGenerationFinished;
};

//-----------------------------------------------------------------------

#endif
