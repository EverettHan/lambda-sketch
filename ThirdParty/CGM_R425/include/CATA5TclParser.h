//===================================================================
// COPYRIGHT Dassault Systemes 2017/12/18
//===================================================================
// CATA5TclParser.cpp
// Header definition of class CATA5TclParser
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2017/12/18 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef CATA5TclParser_H
#define CATA5TclParser_H

#include "CATA5ParserExport.h"
#include "CATA5Parser.h"
#include "CATOmxCxxPortability.h"

class CATA5TclParserContext;

class ExportedByCATA5Parser CATA5TclParser : public CATA5::Parser
{
public:
  CATA5TclParser();
  virtual ~CATA5TclParser();

  HRESULT ResetContext() OMX_Cxx11_OVERRIDE;
  HRESULT ScanChunk(const char *iData, CATLONG64 iLength, bool iLastChunk) OMX_Cxx11_OVERRIDE;
  HRESULT Abort() OMX_Cxx11_OVERRIDE;

  CATA5::ParseStatus GetStatus() OMX_Cxx11_OVERRIDE;
  CATA5::ParseStatus GetErrorInfo(CATA5::ErrorInfo& oErrorInfo) OMX_Cxx11_OVERRIDE;

  bool HasServerGlobalError() OMX_Cxx11_OVERRIDE;
  CATOmxUTF8String GetServerGlobalError() OMX_Cxx11_OVERRIDE;

  void AddDefinitionLoader(CATA5::DefinitionLoader* ipLoader);

  void PostError(const CATUnicodeString& iError) OMX_Cxx11_OVERRIDE;
private:
  bool _IsErrorFiltered();

  CATA5TclParser(CATA5TclParser &);
  CATA5TclParser& operator=(CATA5TclParser&);
  int _NbProcessedChunck;
  CATA5TclParserContext* _pContext;
};

#endif
