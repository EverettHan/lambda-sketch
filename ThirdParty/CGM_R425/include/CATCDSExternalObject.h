//===================================================================
//===================================================================
// CATCDSExternalObject.cpp
// Header definition of class CATCDSExternalObject
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2014/10/08 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef CATCDSExternalObject_H
#define CATCDSExternalObject_H

#include "CATCDSUtilities.h"
#include <stdio.h>

class CATCDSString;

/**
  @brief interface that developper must implement to declare an object.
  
*/
class ExportedByCATCDSUtilities CATCDSExternalObject
{

public:
  CATCDSExternalObject();

  void AddRef();
  void Release();

  /**
  @brief an external object must be able to stream itself (and must provide a way to construct itself from this stream)

  @param[out] oBuffer the buffer
  @param[out] oBufferSize the size of the buffer
  @param[out] omasterBuffer the buffer for master rep when exists
  @param[out] omasterBufferSize the size of the buffer for master rep when exists
  */
  virtual void Stream(char*& oBuffer, size_t& oBufferSize, char*& omasterBuffer, size_t& omasterBufferSize) const = 0;

  /**
  @brief stream object into a CATCDSString
  */
  virtual void Stream(CATCDSString & oString) const = 0;

  /**
  @brief return the type of the object (ie name of implementation)
  */
  virtual const char* GetType() const = 0;

protected:
  virtual ~CATCDSExternalObject();

private:
  int _Ref;
};

#endif
