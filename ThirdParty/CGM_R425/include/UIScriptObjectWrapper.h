//===================================================================
// COPYRIGHT Dassault Systemes 2013/10/18
//===================================================================
// UIScriptObjectWrapper.cpp
// Header definition of class UIScriptObjectWrapper
//===================================================================
//
// Usage notes:
//
//===================================================================
//  2013/10/18 Creation: Code generated by the 3DS wizard
//===================================================================

#ifndef UIScriptObjectWrapper_H
#define UIScriptObjectWrapper_H

#include "UIScriptBase.h"
#include "UIScriptContext.h"

// System
#include "CATBaseUnknown.h"
#include "CATBaseUnknown_WR.h"

// UIVCoreTools
#include "CATSYPHashMap.h"

// ECMAScriptEngine
#include "ESFunction.h"

class CATSYPEventArgs;
class CATSYPEvent;
class CATSYPEventHandler;
class UIScriptObjectWrapperEventHandler;

class ExportedByUIScriptBase UIScriptObjectWrapper: public CATBaseUnknown
{
  CATDeclareClass;
public:
   /**
  * Constructor.
  */
  UIScriptObjectWrapper ();
  UIScriptObjectWrapper (UIScriptContext* iCtx, CATBaseUnknown* iRealInstance);
  /**
  * Destructor.
  */
  ~UIScriptObjectWrapper ();
  /**
  * AddEventListener
  */
  void AddEventListener(const CATUnicodeString& iEventType, const ES::Function& iListener);
  /**
  * RemoveEventListener
  */
  void RemoveEventListener(const CATUnicodeString& iEventType, const ES::Function& iListener);
  /** 
  * GetRealInstance
  */
  CATBaseUnknown* GetRealInstance();
 
private:
  
  // Copy constructor and equal operator
  // -----------------------------------
  UIScriptObjectWrapper (UIScriptObjectWrapper &);
  UIScriptObjectWrapper& operator=(UIScriptObjectWrapper&);

  CATBaseUnknown_WR _realInstance;
  UIScriptContext* _context;
  // Only one listener per event for the moment.
  CATSYPHashMap<CATUnicodeString, UIScriptObjectWrapperEventHandler*> _listeners;

};

//-----------------------------------------------------------------------

#endif
