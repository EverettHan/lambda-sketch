<?xml version="1.0"?>
<!--@Used AfrImmersiveRender\CATAfrSYPView.m\src\CATAfrVidCtlListView.cpp-->
<Styles xmlns:syp = "http://www.3ds.com/xsd/SYP">

 <Resources>
   <ResourceDictionary Source="AfrVidHoverMenu.CATSYPStyle"/>
  <ResourceDictionary Source="AfrTopBar_deprecated.CATSYPStyle"/>
 </Resources>

    <Template syp:name="Default" Target="CATAfrVidTopBar" syp:version="1"  >
    <CATVidLayGrid  RequestedMinimumDimension="10 44" GridWeight="row1=1">

      <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">

        <!-- Background -->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidGPNinePatchSquare syp:name="Background" Name="Background" ScalableAreaBorder="1 1 2 1" TextureFilter="1" MinificationFilter="Nearest" RequestedMinimumDimension="42 44" Texture="PLMBar/top-bg.png" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" PickFlag="1"  UseManipulatorFlag="1"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!-- / Background -->
        <!-- Main Content-->
        <CATVidLayGrid syp:name="MainGrid" RequestedMinimumDimension="1 42" GridWeight="col1=1 row1=1">
          <!--Compass spacer: Reserved spacer to emulated the space of the Compass -  To Hide When Compass is inserted in its own view (Le Borgne)-->
          <CATVidSpacer syp:name="SpacerCompass"  RequestedMinimumDimension="144 42" VisibleFlag="@CompassVisibleFlag" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <!--Top Bar Title (Left) MinDimension = 785-144 = 641-->
          <CATVidLayGrid  syp:name="TopBarTitle" GridWeight="col4=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RL">
            <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="1" syp:name="3D" Text="3D" BoldFlag="1" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
            <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="1" syp:name="EXPERIENCE" Text="EXPERIENCE " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
            <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  VisibleFlag="0" syp:name="pipe" Text="| " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"/>
            <CATVidGPLabel  LayoutWhenUnvisibleFlag="0" VisibleFlag="1" 
                            Text="@BrandName" syp:name="BrandNameContainer"  BoldFlag="1" FontName="3ds"
                            TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"
                            CropPolicy="NoCrop" TextColor="255 255 255 255"
                            CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB" Dimension="@BrandNameCurrentDimension Mode=OneWayToSource" />
            <CATVidGPLabel CropPolicy="CropWithDots" syp:name="AppTitleContainer" Dimension="@AppTitleCurrentDimension Mode=OneWayToSource" FontName="3ds" TextHeight ="19" Text="@AppTitle" VerticalAlignment="1" HorizontalAlignment="0" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
            <CATVidGPSquare  syp:name="SpacerName" LayoutWhenUnvisibleFlag="0" VisibleFlag="0" RequestedMinimumDimension="35 0" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
          </CATVidLayGrid>
          <!--Top Bar Search + Tag +Menu (Right)-->
          <CATVidLayGrid GridWeight="col0=1"   CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RL">
            <!--User name (hidden in this template)-->
            <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
                              <!--Search button-->
            
            <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" syp:name="SearchMenuContainer" Orientation="Vertical" Name="SearchMenu"
                          
                          IconBoxDirection="Bottom"
                          IconBoxSnapAlignment="SnapAlignCenter"
                        CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"
                          LayoutWhenUnvisibleFlag="0"
                          ContentDimension="220 44"
                        >
              <CATAfrVidHoverMenu.Item>
                <CATVidCtlButtonIcon syp:name="SearchButton" syp:Template="TopBarButtonNoSpace" Name="SearchButton"
                        IconDimension="44 44"
                        RequestedMinimumDimension="44 44"
                        ClickMode="0"
                        CheckMode="1"
                        GiveFocusOnDragFlag="1"
                        AcceptFocusOnDropFlag="1"
                        CheckState="@CheckState Mode=TwoWays ElementName=SearchMenuContainer"
                        OffTexture="large/I_Search.png"
                        OverTexture="large/IF_Search.png"
                        OnTexture="large/IP_Search.png"
                                     Click="@HandleSearchPopupMenu"
                                        />
              </CATAfrVidHoverMenu.Item>
              <CATVidCtl syp:name="SearchContainer" RequestedMinimumDimension="220 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" />
              <CATVidCtl syp:name="SearchPopupContainer" ChildrenLifeCyclePolicy="DontDestroyChildren" RequestedMinimumDimension="220 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" />
            </CATAfrVidHoverMenu>

            <!--Tag Button -->
            <CATVidCtl syp:name="RefinementContainer" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=L"/>
            <!--Layer for Tag Search Hbg -->
            <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB">
              <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" syp:name="MenuContainer" Orientation="Vertical" Name="DropDownMenu"
                            IconBoxDirection="Bottom"
                            IconBoxSnapAlignment="SnapAlignRight"
                            CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"
                            LayoutWhenUnvisibleFlag="0"
                            ContainerLifeCyclePolicy="DontDestroyChildren"
                            ContentDimension="220 44"
                        >
                <CATAfrVidHoverMenu.Item>

                  <CATVidCtlButtonIcon syp:name="HbgButton" syp:Template="TopBarButtonNoSpace" Name="HbgButton"
                          IconDimension="44 44"
                          RequestedMinimumDimension="44 44"
                          ClickMode="0"
                          CheckMode="1"
                          GiveFocusOnDragFlag="1"
                          AcceptFocusOnDropFlag="1"
                          CheckState="@CheckState Mode=TwoWays ElementName=MenuContainer"
                          VisibleFlag="1"
                          OverTexture="large/IF_TopBarList.png"
                          OffTexture="large/I_TopBarList.png"
                          OnTexture="large/IP_TopBarList.png"
                          Click="@HandleHbgPopupMenu"
         
                        />
                </CATAfrVidHoverMenu.Item>

              </CATAfrVidHoverMenu>
              <CATVidCtl syp:name="BlockingSquareCtl" ChildrenLifeCyclePolicy="DontDestroyChildren" VisibleFlag="0"/>
            </CATVidLayLayer>
            

            <!--Menus-->
             </CATVidLayGrid>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 xSpan=3 attach=RLTB" />
        </CATVidLayGrid>
        <!--Compass container: the compass is inserted here in Full Screen or CID Frame mode-->
        <CATVidLayGrid GridWeight="col1=1">
          <CATVidCtl syp:name="CompassContainer" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
        </CATVidLayGrid>
      </CATVidLayLayer>
      <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
    </CATVidLayGrid>

    <CATSYPTriggerCollection>

      <!--When no brand display 3D EXPERIENCE-->
      <CATSYPTrigger Property="UseBrandNameFlag" Value="0">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="1"/>
      </CATSYPTrigger>
       <!--When brand exists hide 3D EXPERIENCE-->
      <CATSYPTrigger Property="UseBrandNameFlag" Value="1">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="0"/>
      </CATSYPTrigger>
       <!--When App Title is completely unvisible, add cropping to Brand name-->
      <CATSYPTrigger Property="AppTitleNoMoreVisible" Value="1">
        <CATSYPSetter Property="GridWeight"  TargetName="TopBarTitle" Value="col3=1"/>
        <CATSYPSetter Property="CropPolicy" TargetName="BrandNameContainer" Value="CropWithDots"/>
      </CATSYPTrigger>
      <!--When App Title is almost visible, remove cropping to Brand name -->
      <CATSYPTrigger Property="AppTitleNoMoreVisible" Value="0">
        <CATSYPSetter Property="GridWeight"  TargetName="TopBarTitle" Value="col4=1"/>
        <CATSYPSetter Property="CropPolicy" TargetName="BrandNameContainer" Value="NoCrop"/>
      </CATSYPTrigger>
    </CATSYPTriggerCollection>
  </Template>
  
  <Template syp:name="Default" Target="CATAfrVidTopBar" syp:Variation="{320,44}" syp:version="1">
    <CATVidLayGrid  RequestedMinimumDimension="320 44" GridWeight="row1=1">

      <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">

        <!-- Background -->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidGPNinePatchSquare syp:name="Background" Name="Background" ScalableAreaBorder="1 1 2 1" TextureFilter="1" MinificationFilter="Nearest" RequestedMinimumDimension="42 44" Texture="PLMBar/top-bg.png" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" PickFlag="1"  UseManipulatorFlag="1" />
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!-- / Background -->
        <!-- Main Content-->
        <CATVidLayGrid syp:name="MainGrid" RequestedMinimumDimension="1 42" GridWeight="col1=1 row1=1">
            <!--Compass spacer: Reserved spacer to emulated the space of the Compass -  To Hide When Compass is inserted in its own view (Le Borgne)-->
            <CATVidSpacer syp:name="SpacerCompass"  RequestedMinimumDimension="144 42" VisibleFlag="@CompassVisibleFlag" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
            <!--Top Bar Title (Left) MinDimension = 785-144 = 641-->
            <CATVidLayGrid  syp:name="TopBarTitle" GridWeight="col4=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RL">
            <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="1" syp:name="3D" Text="3D" BoldFlag="1" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
            <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="1" syp:name="EXPERIENCE" Text="EXPERIENCE " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  VisibleFlag="0" syp:name="pipe" Text="| " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"/>
            <CATVidGPLabel  LayoutWhenUnvisibleFlag="0" VisibleFlag="1" 
                              Text="@BrandName" syp:name="BrandNameContainer"  BoldFlag="1" FontName="3ds"
                              TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"
                              CropPolicy="NoCrop" TextColor="255 255 255 255"
                            CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB" Dimension="@BrandNameCurrentDimension Mode=OneWayToSource" />
            <CATVidGPLabel CropPolicy="CropWithDots" syp:name="AppTitleContainer" Dimension="@AppTitleCurrentDimension Mode=OneWayToSource" FontName="3ds" TextHeight ="19" Text="@AppTitle" VerticalAlignment="1" HorizontalAlignment="0" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
              <CATVidGPSquare  syp:name="SpacerName" LayoutWhenUnvisibleFlag="0" VisibleFlag="0" RequestedMinimumDimension="35 0" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
            </CATVidLayGrid>
            <!--Top Bar Search + Tag +Menu (Right)-->
            <CATVidLayGrid GridWeight="col0=1"   CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RL">
              <!--User name (hidden in this template)-->
              <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
              <!--Search button-->
            
            <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" syp:name="SearchMenuContainer" Orientation="Vertical" Name="SearchMenu"
                          
                          IconBoxDirection="Bottom"
                          IconBoxSnapAlignment="SnapAlignCenter"
                        CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"
                          LayoutWhenUnvisibleFlag="0"
                          ContentDimension="220 44"
                        >
              <CATAfrVidHoverMenu.Item>
              <CATVidCtlButtonIcon syp:name="SearchButton" syp:Template="TopBarButtonNoSpace" Name="SearchButton"
                  IconDimension="44 44"
                  RequestedMinimumDimension="44 44"
                  ClickMode="0"
                  CheckMode="1"
                  GiveFocusOnDragFlag="1"
                  AcceptFocusOnDropFlag="1"
                        CheckState="@CheckState Mode=TwoWays ElementName=SearchMenuContainer"
                  OffTexture="large/I_Search.png"
                  OverTexture="large/IF_Search.png"
                        OnTexture="large/IP_Search.png"
                                     Click="@HandleSearchPopupMenu"
                                        />
              </CATAfrVidHoverMenu.Item>
              <CATVidCtl syp:name="SearchContainer" RequestedMinimumDimension="300 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" />
              <CATVidCtl syp:name="SearchPopupContainer" ChildrenLifeCyclePolicy="DontDestroyChildren" RequestedMinimumDimension="300 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" />
            </CATAfrVidHoverMenu>

              <!--Tag Button -->
            <CATVidCtl syp:name="RefinementContainer" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=L"/>
            <!--Layer for Tag Search Hbg -->
            <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB">
              <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" syp:name="MenuContainer" Orientation="Vertical" Name="DropDownMenu"
                            
                            IconBoxDirection="Bottom"
                            IconBoxSnapAlignment="SnapAlignRight"
                          CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"
                            LayoutWhenUnvisibleFlag="0"
                            ContainerLifeCyclePolicy="DontDestroyChildren"
                            ContentDimension="220 44"
                        >
                <CATAfrVidHoverMenu.Item>

              <CATVidCtlButtonIcon syp:name="HbgButton" syp:Template="TopBarButtonNoSpace" Name="HbgButton"
                                        IconDimension="44 44"
                                        RequestedMinimumDimension="44 44"
                                        ClickMode="0"
                                        CheckMode="1"
                                        GiveFocusOnDragFlag="1"
                                        AcceptFocusOnDropFlag="1"
                          CheckState="@CheckState Mode=TwoWays ElementName=MenuContainer"
                          VisibleFlag="1"
                                        OverTexture="large/IF_TopBarList.png"
                                        OffTexture="large/I_TopBarList.png"
                                        OnTexture="large/IP_TopBarList.png"
                          Click="@HandleHbgPopupMenu"
         
                        />
                </CATAfrVidHoverMenu.Item>

              </CATAfrVidHoverMenu>
              <CATVidCtl syp:name="BlockingSquareCtl" ChildrenLifeCyclePolicy="DontDestroyChildren" VisibleFlag="0"/>
              </CATVidLayLayer>
            

              <!--Menus-->
                </CATVidLayGrid>
            <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 xSpan=3 attach=RLTB" />
          </CATVidLayGrid>
        <!--Compass container: the compass is inserted here in Full Screen or CID Frame mode-->
        <CATVidLayGrid GridWeight="col1=1">
          <CATVidCtl syp:name="CompassContainer" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
        </CATVidLayGrid>
      </CATVidLayLayer>
      <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
    </CATVidLayGrid>

    <CATSYPTriggerCollection>

      <!--When no brand display 3D EXPERIENCE-->
      <CATSYPTrigger Property="UseBrandNameFlag" Value="0">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="1"/>
      </CATSYPTrigger>
      <!--When brand exists hide 3D EXPERIENCE-->
      <CATSYPTrigger Property="UseBrandNameFlag" Value="1">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="0"/>
      </CATSYPTrigger>
       <!--When App Title is completely unvisible, add cropping to Brand name-->
      <CATSYPTrigger Property="AppTitleNoMoreVisible" Value="1">
        <CATSYPSetter Property="GridWeight"  TargetName="TopBarTitle" Value="col3=1"/>
        <CATSYPSetter Property="CropPolicy" TargetName="BrandNameContainer" Value="CropWithDots"/>
      </CATSYPTrigger>
      <!--When App Title is almost visible, remove cropping to Brand name -->
      <CATSYPTrigger Property="AppTitleNoMoreVisible" Value="0">
        <CATSYPSetter Property="GridWeight"  TargetName="TopBarTitle" Value="col4=1"/>
        <CATSYPSetter Property="CropPolicy" TargetName="BrandNameContainer" Value="NoCrop"/>
      </CATSYPTrigger>
    </CATSYPTriggerCollection>
  </Template>
  
  <!--======================================================-->
  <!-- CATAfrVidTopBar : control to display the Signature Top Bar (max width:769)  -->
  <!--======================================================-->
  <Template syp:name="Default" Target="CATAfrVidTopBar" syp:Variation="{960,44}" syp:version="1">
    <CATVidLayGrid RequestedMinimumDimension="600 44" GridWeight="row1=1">

      <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">
        <!-- Background -->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidGPNinePatchSquare syp:name="Background" Name="Background" ScalableAreaBorder="1 1 2 1" TextureFilter="1" MinificationFilter="Nearest" RequestedMinimumDimension="42 44" Texture="PLMBar/top-bg.png" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" PickFlag="1"  UseManipulatorFlag="1"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!-- / Background -->
        <!-- Main Content-->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidLayGrid RequestedMinimumDimension="1 44" GridWeight="col1=1 row1=1"  CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">
            <!--Compass spacer: Reserved spacer to emulated the space of the Compass -  To Hide When Compass is inserted in its own view (Le Borgne)-->
            <CATVidSpacer syp:name="SpacerCompass"  RequestedMinimumDimension="144 42" VisibleFlag="@CompassVisibleFlag" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
            <!--Top Bar Title (Left) MinDimension = 785-144 = 641-->
            <CATVidLayGrid  syp:name="TopBarTitle" GridWeight="col4=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RL">
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0" syp:name="3D" Text="3D" BoldFlag="1" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  syp:name="EXPERIENCE" Text="EXPERIENCE " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  VisibleFlag="0" syp:name="pipe" Text="| " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"/>
              <CATVidGPLabel  LayoutWhenUnvisibleFlag="0"
                              Text="@BrandName" syp:name="BrandNameContainer"  BoldFlag="1" FontName="3ds"
                              TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"
                              CropPolicy="NoCrop" TextColor="255 255 255 255"
                              CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB"/>
              <CATVidGPLabel CropPolicy="CropWithDots" syp:name="AppTitleContainer" FontName="3ds" TextHeight ="19" Text="@AppTitle" VerticalAlignment="1" HorizontalAlignment="0" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
              <CATVidGPSquare  syp:name="SpacerName" LayoutWhenUnvisibleFlag="0" VisibleFlag="0" RequestedMinimumDimension="35 0" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
            </CATVidLayGrid>
            <!--Top Bar Search + Tag +Menu (Right)-->
            <CATVidLayGrid GridWeight="col0=1"   CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RL">
              <!--User name (hidden in this template)-->
              <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
              <!--Search button-->
              <CATVidCtlButtonIcon syp:name="SearchButton" syp:Template="TopBarButtonNoSpace" Name="SearchButton"
                  IconDimension="44 44"
                  RequestedMinimumDimension="44 44"
                  ClickMode="0"
                  CheckMode="1"
                  GiveFocusOnDragFlag="1"
                  AcceptFocusOnDropFlag="1"
                  CheckState="0"
                  OffTexture="large/I_Search.png"
                  OverTexture="large/IF_Search.png"
                  OnTexture="large/IP_Search.png" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"
                                        />
              <CATVidCtl syp:name="SearchContainer" RequestedMinimumDimension="220 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RL"/>
              <!--Tag Button -->
              <CATVidCtl syp:name="RefinementContainer" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=L"/>
              <CATVidLayGrid  syp:name="TopBarTitleWithUserName" GridWeight="col0=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB" ContentsMargins="3 0"  >
                <CATVidLayGrid  syp:name="UserName"  VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" ContentsMargins="0 19" >
              <CATVidGPLabel syp:name="UserNameLabel"
                              LayoutWhenUnvisibleFlag="0" VisibleFlag="1"                              
                           Text="@UserName" FontName="3ds Light"
                       TextHeight="14"
                       VerticalAlignment="1"
                       HorizontalAlignment="2"
                           CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB "                           
                           TextColor="255 255 255 255"
                           CropPolicy="NoCrop"
                           
                           />
                  </CATVidLayGrid>                
                <CATVidCtl syp:name="HomeMenuContainer" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB" />

              </CATVidLayGrid>

              <CATVidCtlButtonIcon syp:name="HbgButton" syp:Template="TopBarButtonNoSpace" Name="HbgButton"
                                        IconDimension="44 44"
                                        RequestedMinimumDimension="44 44"
                                        ClickMode="0"
                                        CheckMode="1"
                                        GiveFocusOnDragFlag="1"
                                        AcceptFocusOnDropFlag="1"
                                        CheckState="0"
                                        VisibleFlag="0"
                                        OverTexture="large/IF_TopBarList.png"
                                        OffTexture="large/I_TopBarList.png"
                                        OnTexture="large/IP_TopBarList.png"
                                        CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"
                                        LayoutWhenUnvisibleFlag="0"
                        />
              <!--Menus-->
              <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB">
                <CATVidLayStack syp:name="MenuContainer" Orientation="Horizontal"  ChildrenLifeCyclePolicy="DontDestroyChildren"  LayoutWhenUnvisibleFlag="0" VisibleFlag="1" />
                <CATVidCtl syp:name="BlockingSquareCtl" ChildrenLifeCyclePolicy="DontDestroyChildren"/>
              </CATVidLayLayer>
            </CATVidLayGrid>
            <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 xSpan=3 attach=RLTB" />
          </CATVidLayGrid>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!--Compass container: the compass is inserted here in Full Screen or CID Frame mode-->
        <CATVidLayGrid GridWeight="col1=1">
          <CATVidCtl syp:name="CompassContainer" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
        </CATVidLayGrid>
      </CATVidLayLayer>
      <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
    </CATVidLayGrid>

    <CATSYPTriggerCollection>
      <!--Click on Search Button make Search Field visible and hide others menus. A Hamburger button is visible to restore the state-->
      <CATSYPTrigger Property="CheckState" TargetName="SearchButton" Value="1">
        <CATSYPSetter Property="VisibleFlag" TargetName="SearchContainer" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="MenuContainer" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="SearchButton" Value="0"/>
        <CATSYPSetter Property="CheckState" TargetName="HbgButton" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="HbgButton" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="TopBarTitleWithUserName" Value="0"/>

      </CATSYPTrigger>
      <!--Click on Hamburger Button make menus visible and hide Search Field. The Search button is visble to restore the state -->
      <CATSYPTrigger Property="CheckState" TargetName="HbgButton" Value="1">
        <CATSYPSetter Property="VisibleFlag" TargetName="SearchContainer" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="MenuContainer" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="SearchButton" Value="1"/>
        <CATSYPSetter Property="CheckState" TargetName="SearchButton" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="HbgButton" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="TopBarTitleWithUserName" Value="1"/>

      </CATSYPTrigger>
      <!--When no brand display 3D EXPERIENCE-->
      <CATSYPTrigger Property="UseBrandNameFlag" Value="0">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="1"/>
      </CATSYPTrigger>
      <!--When brand exists hide 3D EXPERIENCE-->
      <CATSYPTrigger Property="UseBrandNameFlag" Value="1">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="0"/>
      </CATSYPTrigger>
    </CATSYPTriggerCollection>
  </Template>
  <!--======================================================-->
  <Template syp:name="Default" Target="CATAfrVidTopBar" syp:Variation="{1356,44}" syp:version="1">
    <CATVidLayGrid RequestedMinimumDimension="400 44" GridWeight="row1=1">
      <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">
        <!-- Background -->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidGPNinePatchSquare syp:name="Background" Name="Background" ScalableAreaBorder="1 1 2 1" TextureFilter="1" MinificationFilter="Nearest" RequestedMinimumDimension="42 44" Texture="PLMBar/top-bg.png" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" PickFlag="1" UseManipulatorFlag="1" />
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!-- / Background -->
        <!-- Main Content-->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidLayGrid  RequestedMinimumDimension="1 44" GridWeight="col1=1 col2=1"  CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">
            <!--Compass spacer: Reserved spacer to emulated the space of the Compass -  To Hide When Compass is inserted in its own view (Le Borgne)-->
            <CATVidSpacer syp:name="SpacerCompass"  RequestedMinimumDimension="144 42" VisibleFlag="@CompassVisibleFlag" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
            <!--Top Bar Title (Left) MinDimension = 785-144 = 641-->
            <CATVidLayGrid  syp:name="TopBarTitle" GridWeight="col4=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RL">
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0" syp:name="3D" Text="3D" BoldFlag="1" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  syp:name="EXPERIENCE" Text="EXPERIENCE " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="@UseBrandNameFlag" syp:name="pipe" Text="| " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"/>
              <CATVidGPLabel  LayoutWhenUnvisibleFlag="0" 
                              Text="@BrandName" syp:name="BrandNameContainer"  BoldFlag="1" FontName="3ds"
                              TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"
                              CropPolicy="NoCrop" TextColor="255 255 255 255"
                              CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB"/>
              <CATVidGPLabel CropPolicy="CropWithDots" syp:name="AppTitleContainer" FontName="3ds" TextHeight ="19" Text="@AppTitle" VerticalAlignment="1" HorizontalAlignment="0" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
              <CATVidGPSquare  syp:name="SpacerName" LayoutWhenUnvisibleFlag="0" VisibleFlag="0" RequestedMinimumDimension="35 0" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
            </CATVidLayGrid>
            <!--Top Bar Search + Tag +Menu (Right)-->
            <CATVidLayGrid  GridWeight="col1=1" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB">
              <CATVidCtl syp:name="SearchContainer" RequestedMinimumDimension="350 20"  LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RL"/>
              <!--Tag Button -->
              <CATVidCtl syp:name="RefinementContainer" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=L"/>
              <!--<CATVidSpacer CATVidLayGrid.IndexedConstraints="x=2 y=1 attach=RLTB"/>-->
              <!--User name -->
              <CATVidLayGrid  syp:name="TopBarTitleWithUserName" GridWeight="col1=01" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB" ContentsMargins="3 0" >
                <CATVidLayGrid  syp:name="UserName" GridWeight="col1=01" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" ContentsMargins="0 19">
              <CATVidGPLabel syp:name="UserNameLabel"
                              LayoutWhenUnvisibleFlag="0" VisibleFlag="1"
                           Text="@UserName" FontName="3ds Light"
                           TextHeight="14"
                           VerticalAlignment="1"
                           HorizontalAlignment="2"
                           CropPolicy="NoCrop"
                            CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"                           
                           TextColor="255 255 255 255" 
                           />
                 </CATVidLayGrid>
                <CATVidCtl syp:name="HomeMenuContainer" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB " />

              </CATVidLayGrid>
              <!--<CATVidGPLabel syp:name="UserNameLabel"
                        CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RL" LayoutWhenUnvisibleFlag="0" VisibleFlag="1"
                       Text="@UserName" FontName="3ds"
                       TextHeight="18"
                       VerticalAlignment="1"
                       HorizontalAlignment="2"
                       CropPolicy="CropWithDots"
                       TextColor="255 255 255 255" />-->
              <!--Menus-->
              <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB">
                <CATVidLayStack syp:name="MenuContainer" Orientation="Horizontal" RequestedMinimumDimension="1 44"  ChildrenLifeCyclePolicy="DontDestroyChildren" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RL"/>
                <CATVidCtl syp:name="BlockingSquareCtl" ChildrenLifeCyclePolicy="DontDestroyChildren"/>
              </CATVidLayLayer>
            </CATVidLayGrid>
          </CATVidLayGrid>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!--Compass container: the compass is inserted here in Full Screen or CID Frame mode-->
        <CATVidLayGrid GridWeight="col1=1">
          <CATVidCtl syp:name="CompassContainer" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
        </CATVidLayGrid>
      </CATVidLayLayer>
      <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
    </CATVidLayGrid>
  </Template>

 
  <Template syp:name="Default" Target="CATAfrVidTopBar" syp:Variation="{320,44}" syp:version="2">
    <CATVidLayGrid  RequestedMinimumDimension="320 44" GridWeight="row1=1">

      <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">

        <!-- Background -->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidGPNinePatchSquare syp:name="Background" Name="Background" ScalableAreaBorder="1 1 2 1" TextureFilter="1" MinificationFilter="Nearest" RequestedMinimumDimension="42 44" Texture="PLMBar/top-bg.png" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" PickFlag="1"  UseManipulatorFlag="1" />
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!-- / Background -->
        <!-- Main Content-->
        <CATVidLayGrid syp:name="MainGrid" RequestedMinimumDimension="1 42" GridWeight="col1=1 row1=1">
          <!--Compass spacer: Reserved spacer to emulated the space of the Compass -  To Hide When Compass is inserted in its own view (Le Borgne)-->
          <CATVidSpacer syp:name="SpacerCompass"  RequestedMinimumDimension="144 42" VisibleFlag="@CompassVisibleFlag" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <!--Top Bar Title (Left) MinDimension = 785-144 = 641-->
          <CATVidLayGrid  syp:name="TopBarTitle" GridWeight="col4=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RL">
            <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="0" syp:name="3D" Text="3D" BoldFlag="1" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
            <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="0" syp:name="EXPERIENCE" Text="EXPERIENCE " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
            <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  VisibleFlag="0" syp:name="pipe" Text="| " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"/>
            <CATVidGPLabel  LayoutWhenUnvisibleFlag="0" VisibleFlag="0"
                              Text="@BrandName" syp:name="BrandNameContainer"  BoldFlag="1" FontName="3ds"
                              TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"
                              CropPolicy="NoCrop" TextColor="255 255 255 255"
                            CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB" Dimension="@BrandNameCurrentDimension Mode=OneWayToSource" />
            <CATVidGPLabel CropPolicy="CropWithDots" syp:name="AppTitleContainer" Dimension="@AppTitleCurrentDimension Mode=OneWayToSource" FontName="3ds Light" TextHeight ="19" Text="@AppTitle" VerticalAlignment="1" HorizontalAlignment="0" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
            <CATVidGPSquare  syp:name="SpacerName" LayoutWhenUnvisibleFlag="0" VisibleFlag="0" RequestedMinimumDimension="35 0" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
          </CATVidLayGrid>
          <!--Top Bar Search + Tag +Menu (Right)-->
          <CATVidLayGrid GridWeight="col0=1"   CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RL">
            <!--User name (hidden in this template)-->
            <!--<CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>-->
            <!--Search button-->

            <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" syp:name="SearchMenuContainer" Orientation="Vertical" Name="SearchMenu"
                          
                          IconBoxDirection="Bottom"
                          IconBoxSnapAlignment="SnapAlignCenter"
                        CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"
                          LayoutWhenUnvisibleFlag="0"
                          ContentDimension="220 44"
                        >
              <CATAfrVidHoverMenu.Item>
                <CATVidCtlButtonIcon syp:name="SearchButton" syp:Template="TopBarButtonNoSpace" Name="SearchButton"
                    IconDimension="44 44"
                    RequestedMinimumDimension="44 44"
                    ClickMode="0"
                    CheckMode="1"
                    GiveFocusOnDragFlag="1"
                    AcceptFocusOnDropFlag="1"
                          CheckState="@CheckState Mode=TwoWays ElementName=SearchMenuContainer"
                    OffTexture="large/I_Search.png"
                    OverTexture="large/IF_Search.png"
                          OnTexture="large/IP_Search.png"
                                       Click="@HandleSearchPopupMenu"
                                        />
              </CATAfrVidHoverMenu.Item>
              <CATVidCtl syp:name="SearchContainer" RequestedMinimumDimension="300 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" />
              <CATVidCtl syp:name="SearchPopupContainer" ChildrenLifeCyclePolicy="DontDestroyChildren" RequestedMinimumDimension="300 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" />
            </CATAfrVidHoverMenu>

            <!--Tag Button -->
            <CATVidCtl syp:name="RefinementContainer" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=L"/>
            <!--Layer for Tag Search Hbg -->
            <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB">
              <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" syp:name="MenuContainer" Orientation="Vertical" Name="DropDownMenu"
                            
                            IconBoxDirection="Bottom"
                            IconBoxSnapAlignment="SnapAlignRight"
                          CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"
                            LayoutWhenUnvisibleFlag="0"
                            ContainerLifeCyclePolicy="DontDestroyChildren"
                            ContentDimension="220 44"
                        >
                <CATAfrVidHoverMenu.Item>

                  <CATVidCtlButtonIcon syp:name="HbgButton" syp:Template="TopBarButtonNoSpace" Name="HbgButton"
                                            IconDimension="44 44"
                                            RequestedMinimumDimension="44 44"
                                            ClickMode="0"
                                            CheckMode="1"
                                            GiveFocusOnDragFlag="1"
                                            AcceptFocusOnDropFlag="1"
                              CheckState="@CheckState Mode=TwoWays ElementName=MenuContainer"
                              VisibleFlag="1"
                                            OverTexture="large/IF_TopBarList.png"
                                            OffTexture="large/I_TopBarList.png"
                                            OnTexture="large/IP_TopBarList.png"
                              Click="@HandleHbgPopupMenu"
         
                        />
                </CATAfrVidHoverMenu.Item>

              </CATAfrVidHoverMenu>
              <CATVidCtl syp:name="BlockingSquareCtl" ChildrenLifeCyclePolicy="DontDestroyChildren" VisibleFlag="0"/>
            </CATVidLayLayer>


            <!--Menus-->
          </CATVidLayGrid>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 xSpan=3 attach=RLTB" />
        </CATVidLayGrid>
        <!--Compass container: the compass is inserted here in Full Screen or CID Frame mode-->
        <CATVidLayGrid GridWeight="col1=1">
          <CATVidCtl syp:name="CompassContainer" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
        </CATVidLayGrid>
      </CATVidLayLayer>
      <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
    </CATVidLayGrid>

    <CATSYPTriggerCollection>

      <!--When no brand display 3D EXPERIENCE-->
      <!--<CATSYPTrigger Property="UseBrandNameFlag" Value="0">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="1"/>
      </CATSYPTrigger>-->
      <!--When brand exists hide 3D EXPERIENCE-->
      <!--<CATSYPTrigger Property="UseBrandNameFlag" Value="1">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="0"/>
      </CATSYPTrigger>-->
      <!--When App Title is completely unvisible, add cropping to Brand name-->
      <CATSYPTrigger Property="AppTitleNoMoreVisible" Value="1">
        <CATSYPSetter Property="GridWeight"  TargetName="TopBarTitle" Value="col3=1"/>
        <CATSYPSetter Property="CropPolicy" TargetName="BrandNameContainer" Value="CropWithDots"/>
      </CATSYPTrigger>
      <!--When App Title is almost visible, remove cropping to Brand name -->
      <CATSYPTrigger Property="AppTitleNoMoreVisible" Value="0">
        <CATSYPSetter Property="GridWeight"  TargetName="TopBarTitle" Value="col4=1"/>
        <CATSYPSetter Property="CropPolicy" TargetName="BrandNameContainer" Value="NoCrop"/>
      </CATSYPTrigger>

      <CATSYPTrigger Property="LeftShiftLabel" Value="0">
        <CATSYPSetter Property="RequestedMinimumDimension" TargetName="SpacerCompass" Value="144 42"/>
      </CATSYPTrigger>

      <CATSYPTrigger Property="LeftShiftLabel" Value="1">
        <CATSYPSetter Property="RequestedMinimumDimension" TargetName="SpacerCompass" Value="54 42"/>
      </CATSYPTrigger>
      
    </CATSYPTriggerCollection>
  </Template>


  <Template syp:name="Default" Target="CATAfrVidTopBar" syp:Variation="{960,44}" syp:version="2">
    <CATVidLayGrid RequestedMinimumDimension="600 44" GridWeight="row1=1">

      <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">
        <!-- Background -->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidGPNinePatchSquare syp:name="Background" Name="Background" ScalableAreaBorder="1 1 2 1" TextureFilter="1" MinificationFilter="Nearest" RequestedMinimumDimension="42 44" Texture="PLMBar/top-bg.png" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" PickFlag="1"  UseManipulatorFlag="1"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!-- / Background -->
        <!-- Main Content-->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidLayGrid RequestedMinimumDimension="1 44" GridWeight="col1=1 row1=1"  CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">
            <!--Compass spacer: Reserved spacer to emulated the space of the Compass -  To Hide When Compass is inserted in its own view (Le Borgne)-->
            <CATVidSpacer syp:name="SpacerCompass"  RequestedMinimumDimension="144 42" VisibleFlag="@CompassVisibleFlag" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
            <!--Top Bar Title (Left) MinDimension = 785-144 = 641-->
            <CATVidLayGrid  syp:name="TopBarTitle" GridWeight="col4=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RL">
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="0" syp:name="3D" Text="3D" BoldFlag="1" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  VisibleFlag="0" syp:name="EXPERIENCE" Text="EXPERIENCE " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  VisibleFlag="0" syp:name="pipe" Text="| " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"/>
              <CATVidGPLabel  LayoutWhenUnvisibleFlag="0"
                              Text="@BrandName" syp:name="BrandNameContainer"  BoldFlag="0" FontName="3ds"
                              TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"
                              CropPolicy="NoCrop" TextColor="255 255 255 255"
                              CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB"/>
              <CATVidGPLabel CropPolicy="CropWithDots" syp:name="AppTitleContainer" FontName="3ds Light" TextHeight ="19" Text="@AppTitle" VerticalAlignment="1" HorizontalAlignment="0" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
              <CATVidGPSquare  syp:name="SpacerName" LayoutWhenUnvisibleFlag="0" VisibleFlag="0" RequestedMinimumDimension="35 0" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
            </CATVidLayGrid>
            <!--Top Bar Search + Tag +Menu (Right)-->
            <CATVidLayGrid GridWeight="col0=1"   CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RL">
              <!--User name (hidden in this template)-->
              <!--<CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>-->
              <!--Search button-->
              <!--<CATVidCtlButtonIcon syp:name="SearchButton" syp:Template="TopBarButtonNoSpace" Name="SearchButton"
                  IconDimension="44 44"
                  RequestedMinimumDimension="44 44"
                  ClickMode="0"
                  CheckMode="1"
                  GiveFocusOnDragFlag="1"
                  AcceptFocusOnDropFlag="1"
                  CheckState="0"
                  OffTexture="large/I_Search.png"
                  OverTexture="large/IF_Search.png"
                  OnTexture="large/IP_Search.png" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"
                                        />-->
              <CATVidCtl syp:name="SearchContainer" RequestedMinimumDimension="220 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RL"/>
              <!--Tag Button -->
              <CATVidCtl syp:name="RefinementContainer" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=L"/>

              <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"/>

              <CATVidLayGrid  syp:name="TopBarTitleWithUserName" GridWeight="col0=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB" ContentsMargins="3 0"  >
                <CATVidLayGrid  syp:name="UserName"  VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" ContentsMargins="0 19" >
                  <CATVidGPLabel syp:name="UserNameLabel"
                                  LayoutWhenUnvisibleFlag="0" VisibleFlag="1"
                               Text="@UserName" FontName="3ds Light"
                           TextHeight="16"
                           VerticalAlignment="1"
                           HorizontalAlignment="2"
                               CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB "
                               TextColor="255 255 255 255"
                               CropPolicy="NoCrop"
                           
                           />
                </CATVidLayGrid>
                <CATVidCtl syp:name="HomeMenuContainer" RequestedMinimumDimension="150 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB" />

              </CATVidLayGrid>

              <CATVidCtlButtonIcon syp:name="HbgButton" syp:Template="TopBarButtonNoSpace" Name="HbgButton"
                                        IconDimension="44 44"
                                        RequestedMinimumDimension="44 44"
                                        ClickMode="0"
                                        CheckMode="1"
                                        GiveFocusOnDragFlag="1"
                                        AcceptFocusOnDropFlag="1"
                                        CheckState="0"
                                        VisibleFlag="0"
                                        OverTexture="large/IF_TopBarList.png"
                                        OffTexture="large/I_TopBarList.png"
                                        OnTexture="large/IP_TopBarList.png"
                                        CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"
                                        LayoutWhenUnvisibleFlag="0"
                        />
              <!--Menus-->
              <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB">
                <CATVidLayStack syp:name="MenuContainer" Orientation="Horizontal"  ChildrenLifeCyclePolicy="DontDestroyChildren"  LayoutWhenUnvisibleFlag="0" VisibleFlag="1" />
                <CATVidCtl syp:name="BlockingSquareCtl" ChildrenLifeCyclePolicy="DontDestroyChildren"/>
              </CATVidLayLayer>
            </CATVidLayGrid>
            <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 xSpan=3 attach=RLTB" />
          </CATVidLayGrid>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!--Compass container: the compass is inserted here in Full Screen or CID Frame mode-->
        <CATVidLayGrid GridWeight="col1=1">
          <CATVidCtl syp:name="CompassContainer" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
        </CATVidLayGrid>
      </CATVidLayLayer>
      <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
    </CATVidLayGrid>

    <CATSYPTriggerCollection>
      <!--Click on Search Button make Search Field visible and hide others menus. A Hamburger button is visible to restore the state-->
      <!--<CATSYPTrigger Property="CheckState" TargetName="SearchButton" Value="1">
        <CATSYPSetter Property="VisibleFlag" TargetName="SearchContainer" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="MenuContainer" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="SearchButton" Value="0"/>
        <CATSYPSetter Property="CheckState" TargetName="HbgButton" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="HbgButton" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="TopBarTitleWithUserName" Value="0"/>

      </CATSYPTrigger>-->
      <!--Click on Hamburger Button make menus visible and hide Search Field. The Search button is visble to restore the state -->
      <CATSYPTrigger Property="CheckState" TargetName="HbgButton" Value="1">
        <!--<CATSYPSetter Property="VisibleFlag" TargetName="SearchContainer" Value="0"/>-->
        <CATSYPSetter Property="VisibleFlag" TargetName="MenuContainer" Value="1"/>
        <!--<CATSYPSetter Property="VisibleFlag" TargetName="SearchButton" Value="1"/>-->
        <!--<CATSYPSetter Property="CheckState" TargetName="SearchButton" Value="0"/>-->
        <CATSYPSetter Property="VisibleFlag" TargetName="HbgButton" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="TopBarTitleWithUserName" Value="1"/>
      </CATSYPTrigger>
      <!--When no brand display 3D EXPERIENCE-->
      <!--<CATSYPTrigger Property="UseBrandNameFlag" Value="0">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="1"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="1"/>
      </CATSYPTrigger>-->
      <!--When brand exists hide 3D EXPERIENCE-->
      <!--<CATSYPTrigger Property="UseBrandNameFlag" Value="1">
        <CATSYPSetter Property="VisibleFlag" TargetName="3D" Value="0"/>
        <CATSYPSetter Property="VisibleFlag" TargetName="EXPERIENCE" Value="0"/>
      </CATSYPTrigger>-->

      <CATSYPTrigger Property="LeftShiftLabel" Value="0">
        <CATSYPSetter Property="RequestedMinimumDimension" TargetName="SpacerCompass" Value="144 42"/>
      </CATSYPTrigger>

      <CATSYPTrigger Property="LeftShiftLabel" Value="1">
        <CATSYPSetter Property="RequestedMinimumDimension" TargetName="SpacerCompass" Value="54 42"/>
      </CATSYPTrigger>
      
    </CATSYPTriggerCollection>
  </Template>


  <Template syp:name="Default" Target="CATAfrVidTopBar" syp:Variation="{1356,44}" syp:version="2">
    <CATVidLayGrid RequestedMinimumDimension="400 44" GridWeight="row1=1">
      <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">
        <!-- Background -->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidGPNinePatchSquare syp:name="Background" Name="Background" ScalableAreaBorder="1 1 2 1" TextureFilter="1" MinificationFilter="Nearest" RequestedMinimumDimension="42 44" Texture="PLMBar/top-bg.png" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" PickFlag="1" UseManipulatorFlag="1" />
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!-- / Background -->
        <!-- Main Content-->
        <CATVidLayGrid GridWeight="row1=1">
          <CATVidLayGrid  RequestedMinimumDimension="1 44" GridWeight="col1=1 col2=1"  CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB">
            <!--Compass spacer: Reserved spacer to emulated the space of the Compass -  To Hide When Compass is inserted in its own view (Le Borgne)-->
            <CATVidSpacer syp:name="SpacerCompass"  RequestedMinimumDimension="144 42" VisibleFlag="@CompassVisibleFlag" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
            <!--Top Bar Title (Left) MinDimension = 785-144 = 641-->
            <CATVidLayGrid  syp:name="TopBarTitle" GridWeight="col4=1" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RL">
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0" syp:name="3D" Text="3D" BoldFlag="1" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0"  syp:name="EXPERIENCE" Text="EXPERIENCE " BoldFlag="0" FontName="3ds Light" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
              <CATVidGPLabel LayoutWhenUnvisibleFlag="0" VisibleFlag="@UseBrandNameFlag" syp:name="pipe" Text="| " BoldFlag="0" FontName="3ds" TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"  CropPolicy="NoCrop" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB"/>
              <CATVidGPLabel  LayoutWhenUnvisibleFlag="0"
                              Text="@BrandName" syp:name="BrandNameContainer"  BoldFlag="0" FontName="3ds"
                              TextHeight ="19" VerticalAlignment="1" HorizontalAlignment="0"
                              CropPolicy="NoCrop" TextColor="255 255 255 255"
                              CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB"/>
              <CATVidGPLabel CropPolicy="CropWithDots" syp:name="AppTitleContainer" FontName="3ds Light" TextHeight ="16" Text="@AppTitle" VerticalAlignment="1" HorizontalAlignment="0" TextColor="255 255 255 255" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
              <CATVidGPSquare  syp:name="SpacerName" LayoutWhenUnvisibleFlag="0" VisibleFlag="0" RequestedMinimumDimension="35 0" CATVidLayGrid.IndexedConstraints="x=4 y=0 attach=RLTB"/>
            </CATVidLayGrid>
            <!--Top Bar Search + Tag +Menu (Right)-->
            <CATVidLayGrid  GridWeight="col1=1" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB">
              <CATVidCtl syp:name="SearchContainer" RequestedMinimumDimension="350 20"  LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RL"/>
              <!--Tag Button -->
              <CATVidCtl syp:name="RefinementContainer" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=L"/>
              <!--<CATVidSpacer CATVidLayGrid.IndexedConstraints="x=2 y=1 attach=RLTB"/>-->
              <!--User name -->
              <CATVidLayGrid  syp:name="TopBarTitleWithUserName" GridWeight="col1=01" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RLTB" ContentsMargins="3 0" >
                <CATVidLayGrid  syp:name="UserName" GridWeight="col1=01" VisibleFlag="1" LayoutWhenUnvisibleFlag="0" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB" ContentsMargins="0 19">
                  <CATVidGPLabel syp:name="UserNameLabel"
                                  LayoutWhenUnvisibleFlag="0" VisibleFlag="1"
                               Text="@UserName" FontName="3ds Light"
                               TextHeight="14"
                               VerticalAlignment="1"
                               HorizontalAlignment="2"
                               CropPolicy="NoCrop"
                                CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"
                               TextColor="255 255 255 255"
                           />
                </CATVidLayGrid>
                <CATVidCtl syp:name="HomeMenuContainer" RequestedMinimumDimension="300 20" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB " />

              </CATVidLayGrid>
              <!--<CATVidGPLabel syp:name="UserNameLabel"
                        CATVidLayGrid.IndexedConstraints="x=2 y=0 attach=RL" LayoutWhenUnvisibleFlag="0" VisibleFlag="1"
                       Text="@UserName" FontName="3ds"
                       TextHeight="18"
                       VerticalAlignment="1"
                       HorizontalAlignment="2"
                       CropPolicy="CropWithDots"
                       TextColor="255 255 255 255" />-->
              <!--Menus-->
              <CATVidLayLayer CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RLTB">
                <CATVidLayStack syp:name="MenuContainer" Orientation="Horizontal" RequestedMinimumDimension="1 44"  ChildrenLifeCyclePolicy="DontDestroyChildren" LayoutWhenUnvisibleFlag="0" VisibleFlag="1" CATVidLayGrid.IndexedConstraints="x=3 y=0 attach=RL"/>
                <CATVidCtl syp:name="BlockingSquareCtl" ChildrenLifeCyclePolicy="DontDestroyChildren"/>
              </CATVidLayLayer>
            </CATVidLayGrid>
          </CATVidLayGrid>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
        </CATVidLayGrid>
        <!--Compass container: the compass is inserted here in Full Screen or CID Frame mode-->
        <CATVidLayGrid GridWeight="col1=1">
          <CATVidCtl syp:name="CompassContainer" CATVidLayGrid.IndexedConstraints="x=0 y=0 attach=RLTB"/>
          <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=1 y=0 attach=RLTB"/>
        </CATVidLayGrid>
      </CATVidLayLayer>
      <CATVidSpacer CATVidLayGrid.IndexedConstraints="x=0 y=1 attach=RLTB"/>
    </CATVidLayGrid>

    <CATSYPTriggerCollection>
      <CATSYPTrigger Property="LeftShiftLabel" Value="0">
        <CATSYPSetter Property="RequestedMinimumDimension" TargetName="SpacerCompass" Value="144 42"/>
      </CATSYPTrigger>
     
      <CATSYPTrigger Property="LeftShiftLabel" Value="1">
        <CATSYPSetter Property="RequestedMinimumDimension" TargetName="SpacerCompass" Value="54 42"/>
      </CATSYPTrigger>
    </CATSYPTriggerCollection>
    
  </Template>

  
  <Template syp:name="Default" Target="CATAfrVidTopBarMenu">
    <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" Orientation="Vertical" syp:name="InnerCollection" Name="@RecordName"
                         PopupVisibleFlag="@ContentVisibleFlag Mode=TwoWays"
                         IconBoxDirection="Bottom"
                         IconBoxSnapAlignment="SnapAlignRight"
                         PopupShown="@HandleShowEvent"
                         PresenterClick="@HandlePresenterEvent" LayoutWhenUnvisibleFlag="0"
                        >

        <CATVidCtlButtonIcon syp:name="Button" syp:Template="TopBarButtonNoSpace" Name="PresenterButton"
                    IconDimension="44 44"
                    RequestedMinimumDimension="44 44"
                    ClickMode="0"
                    CheckMode="1"
                    GiveFocusOnDragFlag="1"
                    AcceptFocusOnDropFlag="1"
                    CheckState="@CheckState Mode=TwoWays ElementName=InnerCollection"
                    CropPolicy="CropWithDots"
                    ForegroundColor="239 239 239 230"
                    OffTexture="@Icon"
                     OverTexture="@OverIcon"
                    OnTexture="@OnIcon"
					RightClick="@HandleContextEvent ElementName=InnerCollection"
                    Click="@HandlePresenterClick ElementName=InnerCollection"
                            LayoutWhenUnvisibleFlag="0"
                        />
    

    </CATAfrVidHoverMenu>
  </Template>

  <Template syp:name="Default" Target="CATAfrVidTopBarMenu" syp:Variation="InHoverMenu">
    <CATAfrVidHoverSubMenuContainer syp:name="InnerCollection" syp:Template="HeaderWithIcon" Name="@RecordName" Title="@Title" Icon="@OnIcon" IconDimension="44 44"
                                     Tooltip="@PresenterTooltip" HeaderActivatedFlag="@ActivatedFlag Mode=TwoWays" HeaderActivated="@HandlePresenterEvent"
                                     Shown="@HandleShowEvent" LayoutWhenUnvisibleFlag="0" 
                                     Hidden="@HandleHideEvent">
    </CATAfrVidHoverSubMenuContainer>
 
  </Template>

  <Template syp:name="Custom" Target="CATAfrVidTopBarMenu">
    <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" Orientation="Vertical" syp:name="InnerCollection" Name="@RecordName"
                         CheckState="@ContentVisibleFlag Mode=TwoWays"
                         IconBoxDirection="Bottom"
                         IconBoxSnapAlignment="SnapAlignRight"
                         PopupShown="@HandleShowEvent"
                         PresenterClick="@HandlePresenterEvent" LayoutWhenUnvisibleFlag="0"
                        >

      <CATVidCtl PresenterContent="@PresenterCtl" ChildrenLifeCyclePolicy="DontDestroyChildren"/>


    </CATAfrVidHoverMenu>
  </Template>

  <Template syp:name="Custom" Target="CATAfrVidTopBarMenu" syp:Variation="InHoverMenu">
    <CATAfrVidHoverSubMenuContainer syp:name="InnerCollection" syp:Template="HeaderWithIcon" Title="@Title" Name="@RecordName"
                                     Tooltip="@PresenterTooltip" HeaderActivatedFlag="@ActivatedFlag Mode=TwoWays" HeaderActivated="@HandlePresenterEvent"
                                     Shown="@HandleShowEvent" LayoutWhenUnvisibleFlag="0"
                                     Hidden="@HandleHideEvent">
      <CATAfrVidHoverSubMenuContainer.IconPresenterCtl>
        <CATVidCtl PresenterContent="@PresenterInHoverMenuCtl" ChildrenLifeCyclePolicy="DontDestroyChildren"/>
      </CATAfrVidHoverSubMenuContainer.IconPresenterCtl>
    </CATAfrVidHoverSubMenuContainer>

  </Template>



  <Template syp:name="HomeMenu" Target="CATAfrVidTopBarMenu">
    <CATAfrVidHoverMenu syp:Template="Rounded_OnClick" Orientation="Vertical" syp:name="InnerCollection" Name="@RecordName"
                          PopupVisibleFlag="@ContentVisibleFlag Mode=TwoWays"
                         IconBoxDirection="Bottom"
                         IconBoxSnapAlignment="SnapAlignRight"
                         PopupShown="@HandleShowEvent"
                         PresenterClick="@HandlePresenterEvent" LayoutWhenUnvisibleFlag="0"                        
                        >

      <CATVidCtl PresenterContent="@PresenterCtl" ChildrenLifeCyclePolicy="DontDestroyChildren"/>


    </CATAfrVidHoverMenu>
  </Template>

  <Template syp:name="HomeMenu" Target="CATAfrVidTopBarMenu" syp:Variation="InHoverMenu">
    <CATAfrVidHoverSubMenuContainer syp:name="InnerCollection" syp:Template="HeaderWithIcon" Title="@Title" Name="@RecordName"
                                     Tooltip="@PresenterTooltip" HeaderActivatedFlag="@ActivatedFlag Mode=TwoWays" HeaderActivated="@HandlePresenterEvent"
                                     Shown="@HandleShowEvent" LayoutWhenUnvisibleFlag="0"
                                     Hidden="@HandleHideEvent">
      <CATAfrVidHoverSubMenuContainer.IconPresenterCtl>
        <CATVidCtl PresenterContent="@PresenterInHoverMenuCtl" ChildrenLifeCyclePolicy="DontDestroyChildren"/>
      </CATAfrVidHoverSubMenuContainer.IconPresenterCtl>
    </CATAfrVidHoverSubMenuContainer>

  </Template>
</Styles>


